<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>Picgo+Typora+SMMSå›¾åºŠé…ç½®</title>
    <url>/2024/10/20/Picgo+Typora+SM.MS%E5%9B%BE%E5%BA%8A%E9%85%8D%E7%BD%AE/</url>
    <content><![CDATA[<h1 id="Picgo-Typora-SMMSå›¾åºŠé…ç½®"><a href="#Picgo-Typora-SMMSå›¾åºŠé…ç½®" class="headerlink" title="Picgo+Typora+SMMSå›¾åºŠé…ç½®"></a>Picgo+Typora+SMMSå›¾åºŠé…ç½®</h1><h1 id="ğŸ””ç¢ç¢å¿µï¼š"><a href="#ğŸ””ç¢ç¢å¿µï¼š" class="headerlink" title="ğŸ””ç¢ç¢å¿µï¼š"></a>ğŸ””ç¢ç¢å¿µï¼š</h1><p>â€‹		ç”±äºæ¯æ¬¡å†™å­¦ä¹ ç¬”è®°éƒ½ä¼šæœ‰ç›¸åº”çš„å›¾ç‰‡ã€‚ä¹‹å‰æœ‰ä½¿ç”¨è¿‡<em><strong>é˜¿é‡Œäº‘çš„OSS</strong></em>ã€‚ä½¿ç”¨èµ·æ¥ä¹Ÿæ˜¯ç›¸å½“ä¸é”™çš„ï¼Œä½†æ˜¯OSSæ˜¯æ”¶è´¹çš„ã€‚å…¶<em><strong>ä»˜è´¹æ¨¡å¼</strong></em>å¯ä»¥åŒ…æœˆï¼Œä¹Ÿå¯ä»¥æŒ‰è®¿é—®æµé‡æ¥ä»˜è´¹ï¼Œè™½ç„¶ä¾¿å®œï¼Œä½†æ˜¯å¯¹äºè¿˜åœ¨å­¦ä¹ çš„å°ä¼™ä¼´æ¥è¯´ä¹Ÿæ˜¯æ²¡å¿…è¦çš„ã€‚ä½¿ç”¨<em><strong>å…è´¹çš„å›¾åºŠ</strong></em>ä¹Ÿå¯ä»¥å®ç°ç›¸åŒçš„åŠŸèƒ½ã€‚æ¯”å¦‚sm.mså›¾åºŠï¼Œæœ‰å…è´¹ç‰ˆæœ¬å’Œä»˜è´¹ç‰ˆæœ¬ï¼Œå…è´¹å®¹é‡æ˜¯50Gã€‚è®¿é—®é€Ÿåº¦æ¥è¯´ä¹Ÿè¿˜ç®—æ˜¯OKã€‚æ‰€ä»¥æœ¬æ¬¡é…ç½®çš„å›¾åºŠé€‰æ‹©sm.msã€‚</p>
<p>â€‹		å†™è¿™ç¯‡é…ç½®æ•™ç¨‹çš„<em><strong>ç›®çš„</strong></em>æ˜¯ï¼Œå°†è‡ªå·±ä»¥å‰çš„å­¦ä¹ åšä¸€ä¸ª<em><strong>è®°å½•</strong></em>ï¼Œå°±æ˜¯æƒ³å¸®åŠ©ä¸€ä¸‹<em><strong>æ›´å¤šçš„</strong></em>ï¼Œæƒ³è¦å®ç°ç›¸åŒåŠŸèƒ½çš„æœ‹å‹ã€‚å…¶æ¬¡ä¹Ÿæ˜¯å¸®åŠ©ä¸€ä¸‹ç‰¹åˆ«å¥½çš„æœ‹å‹é…ç½®å›¾åºŠã€‚</p>
<h2 id="ä¸€ã€Picgo"><a href="#ä¸€ã€Picgo" class="headerlink" title="ä¸€ã€Picgo"></a>ä¸€ã€Picgo</h2><h3 id="Picgoç®€ä»‹ï¼š"><a href="#Picgoç®€ä»‹ï¼š" class="headerlink" title="Picgoç®€ä»‹ï¼š"></a>Picgoç®€ä»‹ï¼š</h3><ol>
<li><p>åº”ç”¨æ¦‚è¿°ï¼šä¸€ä¸ªç”¨äºå¿«é€Ÿä¸Šä¼ å›¾ç‰‡å¹¶è·å–å›¾ç‰‡ URL é“¾æ¥çš„å·¥å…·ã€‚</p>
</li>
<li><p>picgoæœ¬èº«æ”¯æŒï¼š<code>ä¸ƒç‰›å›¾åºŠ</code> v1.0ã€<code>è…¾è®¯äº‘ COS v4\v5 ç‰ˆæœ¬</code> v1.1 &amp; v1.5.0ã€<code>åˆæ‹äº‘</code> v1.2.0ã€<code>GitHub</code> v1.5.0ã€<code>SM.MS V2</code> v2.3.0-beta.0ã€<code>é˜¿é‡Œäº‘ OSS</code> v1.6.0ã€<code>Imgur</code> v1.6.0ç­‰ã€‚è¿˜å¯ä»¥é€šè¿‡æ’ä»¶æ‰©å±•å…¶ä»–å›¾åºŠã€‚</p>
</li>
<li><p>åº”ç”¨ç•Œé¢ï¼š</p>
<p><figure class="image-caption"><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s2.loli.net/2024/10/20/RAOhWi32Gw496os.png"
                      alt="image-20241020140658220"
                ><figcaption>image-20241020140658220</figcaption></figure></p>
</li>
</ol>
<h3 id="Picgoå®‰è£…é…ç½®ï¼š"><a href="#Picgoå®‰è£…é…ç½®ï¼š" class="headerlink" title="Picgoå®‰è£…é…ç½®ï¼š"></a>Picgoå®‰è£…é…ç½®ï¼š</h3><ol>
<li><p>ä¸‹è½½åœ°å€ï¼š<a class="link"   href="https://github.com/Molunerfinn/PicGo%EF%BC%8C%E6%88%96%E8%80%85%E9%80%89%E6%8B%A9%E5%85%B6%E4%BB%96%E9%95%9C%E5%83%8F%E6%BA%90%E4%B8%8B%E8%BD%BD%E4%B9%9F%E5%8F%AF%E3%80%82%E4%B8%8B%E8%BD%BD%E5%B7%B2%E7%BB%8F%E6%89%93%E5%8C%85%E5%A5%BD%E7%9A%84exe%E7%A8%8B%E5%BA%8F%EF%BC%8C%E5%AE%89%E8%A3%85%E7%9B%B4%E6%8E%A5%E7%82%B9%E5%87%BBexe%E5%8F%AF%E6%89%A7%E8%A1%8C%E7%A8%8B%E5%BA%8F%EF%BC%8C%E7%82%B9%E5%87%BB%E4%B8%8B%E4%B8%80%E6%AD%A5%E5%8D%B3%E5%8F%AF%E3%80%82" >https://github.com/Molunerfinn/PicGoï¼Œæˆ–è€…é€‰æ‹©å…¶ä»–é•œåƒæºä¸‹è½½ä¹Ÿå¯ã€‚ä¸‹è½½å·²ç»æ‰“åŒ…å¥½çš„exeç¨‹åºï¼Œå®‰è£…ç›´æ¥ç‚¹å‡»exeå¯æ‰§è¡Œç¨‹åºï¼Œç‚¹å‡»ä¸‹ä¸€æ­¥å³å¯ã€‚ <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
</li>
<li><p>ä¸‹è½½å®Œæˆåã€‚é…ç½®sm.mså›¾åºŠã€‚é…ç½®sm.mså›¾åºŠå‰éœ€è¦æ³¨å†Œå›¾åºŠçš„è´¦æˆ·ã€‚<a class="link"   href="https://smms.app/" >å›¾åºŠåœ°å€ <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a><a class="link"   href="https://smms.app/%E3%80%82" >https://smms.app/ã€‚ <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<blockquote>
<p>è¿™é‡Œä½¿ç”¨picgo-plugin-smms-useræ’ä»¶ï¼Œæ’ä»¶ä¸‹è½½åœ°å€<a class="link"   href="https://github.com/xlzy520/picgo-plugin-smms-user%E3%80%82%E5%8F%AF%E4%BB%A5%E4%BD%BF%E7%94%A8git%E6%88%96%E8%80%85%E7%9B%B4%E6%8E%A5%E7%82%B9%E5%87%BB%E4%B8%8B%E8%BD%BD%E5%8E%8B%E7%BC%A9%E5%8C%85%E3%80%82" >https://github.com/xlzy520/picgo-plugin-smms-userã€‚å¯ä»¥ä½¿ç”¨gitæˆ–è€…ç›´æ¥ç‚¹å‡»ä¸‹è½½å‹ç¼©åŒ…ã€‚ <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<ul>
<li><p>åœ¨çº¿å®‰è£…ç›´æ¥åœ¨æ’ä»¶è®¾ç½®ç•Œé¢æœç´¢ï¼š<strong>smms-user</strong>å®‰è£…ï¼Œå®‰è£…å®Œæˆåé‡å¯åº”ç”¨</p>
</li>
<li><p>ç¦»çº¿å®‰è£…ï¼Œä¸‹è½½æ’ä»¶åŒ…ï¼Œå°†æ’ä»¶åŒ…ç§»åŠ¨åˆ°picgoçš„å®‰è£…ç›®å½•ä¸‹æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ã€‚è¿™é‡Œä½¿ç”¨æœ¬åœ°æ’ä»¶å¯¼å…¥çš„æ–¹å¼ä½¿ç”¨ã€‚</p>
</li>
</ul>
 <div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><code class="hljs node.js">npm install ./picgo-plugin-smms-user<br></code></pre></td></tr></table></figure></div>
</blockquote>
<p><figure class="image-caption"><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s2.loli.net/2024/10/20/qUmz5ZehK4OaEvS.png"
                      alt="image-20241020142806786"
                ><figcaption>image-20241020142806786</figcaption></figure></p>
</li>
<li><p>å®‰è£…ä½¿ç”¨å¯¼å…¥æœ¬åœ°æ’ä»¶çš„æ–¹å¼å¦‚ä¸Šå›¾ã€‚å¯¼å…¥åå°±ä¼šåœ¨ã€Šæ’ä»¶è®¾ç½®ã€‹èœå•æ˜¾ç¤ºã€‚</p>
</li>
<li><p>ç‚¹å‡»æ’ä»¶çš„è®¾ç½®æŒ‰é’®ï¼Œé€‰æ‹©æœ€åä¸€é¡¹ã€Šé…ç½®uploader-smms-userã€‹é…ç½®smms-userçš„authå€¼ï¼Œauthé€šè¿‡<a class="link"   href="https://smms.app/" >smmså®˜ç½‘ <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a>çš„API-Tokenè·å–å³å¯ã€‚</p>
<p><figure class="image-caption"><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s2.loli.net/2024/10/20/gvm97be8cflxLRW.png"
                      alt="image-20241020145626017"
                ><figcaption>image-20241020145626017</figcaption></figure></p>
</li>
<li><p>é…ç½®å®Œæˆååœ¨ã€Šä¸Šä¼ åŒºã€‹å›¾ç‰‡ä¸Šä¼ å‹¾é€‰SM.MS-ç™»å½•ç”¨æˆ·å°±å®Œæˆäº†picgoå’Œsm.msçš„é…ç½®ã€‚å’Œä¸Šè¿°picgoç®€ä»‹åº”ç”¨å›¾ç‰‡ä½ç½®ä¸€è‡´ã€‚å°†å›¾ç‰‡æ‹–å…¥ç›¸åº”ä½ç½®å°±å¯ä»¥ç›´æ¥å°†å›¾ç‰‡ä¸Šä¼ åˆ°sm.mså›¾åºŠä¸Šäº†ã€‚ç™»å½•<a class="link"   href="https://smms.app/%E5%8D%B3%E5%8F%AF%E6%9F%A5%E7%9C%8B%E3%80%82" >https://smms.app/å³å¯æŸ¥çœ‹ã€‚ <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
</li>
<li><p>å¯¹äºpicgoçš„å…¶ä»–é…ç½®å¯ä»¥åœ¨è®¾ç½®æ¨¡å—æŸ¥çœ‹ï¼Œå»ºè®®å¼€å¯ä¸Šä¼ å‰é‡å‘½ååŠŸèƒ½ã€‚æ­¤é¡¹åŠŸèƒ½æ–¹ä¾¿ä»¥åç®¡ç†sm.mså›¾åºŠçš„å›¾ç‰‡ã€‚</p>
</li>
</ol>
<h2 id="äºŒã€Typora"><a href="#äºŒã€Typora" class="headerlink" title="äºŒã€Typora"></a>äºŒã€Typora</h2><h3 id="åŠŸèƒ½éœ€æ±‚ï¼š"><a href="#åŠŸèƒ½éœ€æ±‚ï¼š" class="headerlink" title="åŠŸèƒ½éœ€æ±‚ï¼š"></a>åŠŸèƒ½éœ€æ±‚ï¼š</h3><blockquote>
<p>å°†typoraç¬”è®°ä¸­çš„å›¾ç‰‡ï¼Œåˆ©ç”¨picgoå·¥å…·ç›´æ¥ä¸Šä¼ åˆ°sm.mså›¾åºŠä¸Šå¹¶è¿”å›å›¾ç‰‡åœ°å€ä¾›typoraç¬”è®°æ‰€ä½¿ç”¨ã€‚</p>
</blockquote>
<h3 id="Typoraé…ç½®ï¼š"><a href="#Typoraé…ç½®ï¼š" class="headerlink" title="Typoraé…ç½®ï¼š"></a>Typoraé…ç½®ï¼š</h3><p>Typoraæœ¬è½¯ä»¶ä¸å†åšä»‹ç»ï¼Œç›´æ¥ç»™å‡ºé…ç½®æ­¥éª¤ã€‚</p>
<ol>
<li>ç‚¹å‡»èœå•æ çš„ã€Šæ–‡ä»¶ã€‹é€‰é¡¹ã€‚</li>
<li>é€‰æ‹©ã€Šåå¥½è®¾ç½®ã€‹ã€‚</li>
<li>é€‰æ‹©ã€Šå›¾åƒè®¾ç½®ã€‹ï¼Œæ’å…¥å›¾ç‰‡æ—¶-&gt;<em><strong>ä¸Šä¼ å›¾ç‰‡ã€‚</strong></em></li>
<li>å‹¾é€‰â˜‘ï¸å¯¹æœ¬åœ°ä½ç½®çš„å›¾ç‰‡åº”ç”¨ä¸Šè¿°è§„åˆ™ã€‚</li>
<li>ä¸Šä¼ æœåŠ¡é€‰æ‹©<em><strong>Picgo(app)</strong></em></li>
<li>picgoçš„è·¯å¾„é€‰æ‹©picgoçš„å®‰è£…è·¯å¾„ä¸­çš„picgo.exeå¯æ‰§è¡Œç¨‹åºå³å¯å¦‚ä¸‹å›¾ã€‚</li>
</ol>
<p><figure class="image-caption"><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s2.loli.net/2024/10/20/A13RwKLq8Jfxmk9.png"
                      alt="image-20241020151951062"
                ><figcaption>image-20241020151951062</figcaption></figure></p>
<p>å®Œæˆä»¥ä¸Šçš„é…ç½®ï¼Œä½ çš„typoraå°±å®ç°äº†æ’å…¥å›¾ç‰‡è‡ªåŠ¨ä¸Šä¼ åˆ°smmsçš„å›¾åºŠçš„åŠŸèƒ½å•¦ã€‚ğŸ‰ğŸ‰ğŸ‰</p>
<h2 id="ä¸‰ã€æ‰©å±•"><a href="#ä¸‰ã€æ‰©å±•" class="headerlink" title="ä¸‰ã€æ‰©å±•"></a>ä¸‰ã€æ‰©å±•</h2><p>å½“ç„¶ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨å…¶ä»–çš„å›¾åºŠæˆ–è€…æ˜¯äº‘å­˜å‚¨çš„æœåŠ¡ã€‚å¤§éƒ¨åˆ†çš„äº‘å­˜å‚¨æœåŠ¡éƒ½æ˜¯æ”¶è´¹çš„ï¼Œæ¯”ä¾‹<a href="https://www.aliyun.com/product/oss"><em><strong>é˜¿é‡Œäº‘OSS</strong></em></a>ï¼Œ<a href="https://cloud.tencent.com/product/cos"><em><strong>è…¾è®¯äº‘COS</strong></em></a>ï¼Œ<a href="https://www.qiniu.com/products/kodo"><em><strong>ä¸ƒç‰›äº‘</strong></em></a>ï¼Œ<a href="https://www.upyun.com/"><em><strong>åˆæ‹äº‘</strong></em></a>ç­‰ï¼Œå¯ä»¥æ ¹æ®è‡ªå·±çš„ç»æµæƒ…å†µé€‰æ‹©ä¸€æ¬¾äº‘å­˜å‚¨æœåŠ¡ï¼Œå½“ç„¶ç”¨å…è´¹çš„ä¸æ˜¯æ›´å¥½å—ã€‚æ¯•ç«Ÿç™½å«–çš„å°±æ˜¯é¦™ï¼Œä½†æ˜¯ä¾¿å®œçš„å…è´¹çš„å¯èƒ½ä¼šé¢ä¸´å°±æ˜¯<em><strong>æœåŠ¡æä¾›å•†è·‘è·¯</strong></em>äº†ï¼Œå›¾ç‰‡å°±å¯èƒ½æ‰¾ä¸åˆ°ã€‚é€‰æ‹©å¤§å‚çš„è™½è¯´ä»˜è´¹ï¼Œä¹Ÿä¸ç®—å¤ªè´µä¸æ˜¯ã€‚è‡³å°‘ä¸å¤ªå¯èƒ½å‡ºç°è·‘è·¯çš„æƒ…å†µã€‚</p>
<p>è¿™é‡Œä»¥<a href="https://www.upyun.com/"><em><strong>åˆæ‹äº‘</strong></em></a>ä¸ºä¾‹ã€‚</p>
<p>è¿™é‡Œæ²¡æœ‰å¹¿å‘Šï¼æ²¡æœ‰å¹¿å‘Šï¼æ²¡æœ‰å¹¿å‘Šï¼é‡è¦çš„äº‹æƒ…è¯´ä¸‰éã€‚</p>
<h3 id="åˆæ‹äº‘"><a href="#åˆæ‹äº‘" class="headerlink" title="åˆæ‹äº‘"></a>åˆæ‹äº‘</h3><ol>
<li><p>ç™»å½•<a href="https://www.upyun.com/"><em><strong>åˆæ‹äº‘å®˜æ–¹ç½‘ç«™</strong></em></a>ï¼Œæ³¨å†Œè´¦å·ã€‚</p>
</li>
<li><p>è¿›å…¥åˆæ‹äº‘æ§åˆ¶å°ï¼Œåœ¨äº‘æœåŠ¡åˆ—è¡¨ï¼Œåˆ›å»ºæœåŠ¡ã€‚æœåŠ¡åç§°å°±æ˜¯bucketã€‚åœ¨åç»­picgoé…ç½®ä¸­ä¼šä½¿ç”¨åˆ°ï¼Œåº”ç”¨åœºæ™¯-å¡«å†™ç½‘é¡µå›¾ç‰‡ï¼Œå­˜å‚¨ç±»å‹-é€‰æ‹©æ ‡å‡†ç±»å‹ï¼Œè¿™é‡Œæˆæƒè´¦å·å¯ä»¥å…ˆä¸æˆæƒã€‚ä¹Ÿå¯ä»¥ç›´æ¥æˆæƒå·²æœ‰çš„æ“ä½œå‘˜ï¼Œæˆ–è€…æ–°å»ºæˆæƒæ“ä½œå‘˜ã€‚ç„¶åç‚¹å‡»ä¸‹æ–¹çš„åˆ›å»ºã€‚æœåŠ¡åˆ›å»ºå®Œæˆåï¼Œç‚¹å‡»è¿›å…¥é…ç½®ã€‚</p>
<p><figure class="image-caption"><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s2.loli.net/2024/10/20/kdBGrFfJsajo3qX.png"
                      alt="image-20241020162956667"
                ><figcaption>image-20241020162956667</figcaption></figure></p>
</li>
<li><p>åœ¨åŠŸèƒ½é…ç½®çš„åŸŸåç®¡ç†æ¨¡å—ï¼ŒåŸŸååŠ é€Ÿæ¨¡å—ç»‘å®šåŸŸåã€‚è¿™é‡Œæ³¨æ„ï¼Œåœ¨ç»‘å®šåŸŸåæ—¶ï¼ŒåŸŸåéœ€è¦<em><strong>å¤‡æ¡ˆ</strong></em>ï¼Œä¸ç„¶<em><strong>å®¡æ ¸ä¸é€šè¿‡</strong></em>ï¼Œç„¶åå»åŸŸåæä¾›å•†ç½‘ç«™å¢åŠ åŸŸåè§£æè®°å½•ã€‚è¿™é‡Œä»¥<em><strong>é˜¿é‡Œäº‘ä¸ºä¾‹</strong></em>ã€‚</p>
<ul>
<li><p>åœ¨åŸŸåè§£ææ§åˆ¶å°ï¼Œç‚¹å‡»å·²æœ‰çš„åŸŸåè¿›å…¥è§£æè®¾ç½®ã€‚</p>
</li>
<li><p>ç‚¹å‡»æ·»åŠ è®°å½•ï¼Œè®°å½•ç±»å‹é€‰æ‹©<a href="https://www.aliyun.com/"><em><strong>CNAME</strong></em></a>ã€‚CNAMEçš„æ„æ€æ˜¯ä»ä¸€ä¸ªåŸŸåæŒ‡å‘å¦ä¸€ä¸ªåŸŸåï¼Œä¸»æœºè®°å½•å€¼å¯ä»¥éšæ„å¡«å†™ï¼Œå¦‚ä¸‹å›¾è¡¨ç¤ºçš„å†…å®¹ã€‚ä¸€èˆ¬æ¥è¯´è®¾ç½®äºŒçº§åŸŸåæ›´åŠ åˆé€‚ã€‚</p>
</li>
<li><p>è§£æè¯·æ±‚æ¥æºè®¾ç½®é»˜è®¤å³å¯ã€‚</p>
<p>è®°å½•å€¼å¡«å†™åœ¨åˆæ‹äº‘äº‘å­˜å‚¨æœåŠ¡çš„CNAMEå°±å¯ä»¥äº†ã€‚è¯¥å€¼çš„æŸ¥æ‰¾æ–¹å¼ï¼Œåˆæ‹äº‘æ§åˆ¶å°-&gt;äº‘å­˜å‚¨æœåŠ¡-&gt;æœåŠ¡ç®¡ç† äº‘å­˜å‚¨ï¼ˆåœ¨è¯¥é¡µé¢ä¸­ç‚¹å‡»æœåŠ¡åç§°ï¼‰-&gt;åŸŸåç®¡ç†é¡µé¢çš„CNAMEã€‚</p>
</li>
</ul>
<p><figure class="image-caption"><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s2.loli.net/2024/10/20/gQHZYl8sThUXB1v.png"
                      alt="image-20241020165402733"
                ><figcaption>image-20241020165402733</figcaption></figure></p>
</li>
<li><p>å­˜å‚¨ç®¡ç†æ¨¡å—çš„<em><strong>æ“ä½œå‘˜æˆæƒ</strong></em>ã€‚ç‚¹å‡»æˆæƒæŒ‰é’®ï¼Œæœ‰æ“ä½œå‘˜å°±ç›´æ¥å‹¾é€‰â˜‘ï¸ï¼Œæ²¡æœ‰æ“ä½œå‘˜çš„ç‚¹å‡»æ–°å»ºæˆæƒæ“ä½œå‘˜ã€‚è¾“å…¥æ“ä½œå‘˜åç§°ï¼Œå¯†ç é¡¹åªèƒ½ç‚¹å‡»ç³»ç»Ÿç”Ÿæˆã€‚ç”Ÿæˆå®Œæˆåå¤åˆ¶è¯¥å¯†ç ï¼Œä¿å­˜èµ·æ¥åç»­åœ¨é…ç½®picgoä¸­ä½¿ç”¨ã€‚ç„¶åæƒé™å‹¾é€‰â˜‘ï¸å¯è¯»å–ï¼Œå¯å†™å…¥ï¼Œå¯åˆ é™¤ã€‚æ ¹æ®å®é™…ç”¨é€”å‹¾é€‰æƒé™ã€‚ç‚¹å‡»åˆ›å»ºå³å¯ï¼Œå¦‚ä¸‹å›¾ã€‚</p>
<p><figure class="image-caption"><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s2.loli.net/2024/10/20/UVnLzu2QtksfFid.png"
                      alt="image-20241020164210706"
                ><figcaption>image-20241020164210706</figcaption></figure></p>
</li>
<li><p>å®Œæˆä¸Šè¿°æ­¥éª¤ï¼Œä½ çš„åˆæ‹äº‘äº‘å­˜å‚¨æœåŠ¡å°±åˆ›å»ºå¥½äº†ã€‚ğŸ‰ğŸ‰ğŸ‰</p>
</li>
</ol>
<h3 id="Picgoé…ç½®"><a href="#Picgoé…ç½®" class="headerlink" title="Picgoé…ç½®"></a>Picgoé…ç½®</h3><ol>
<li>åœ¨picgoçš„ç•Œé¢æ‰¾åˆ°å›¾åºŠè®¾ç½®ã€‚åœ¨å›¾åºŠè®¾ç½®ä¸­é€‰æ‹©<em><strong>åˆæ‹äº‘</strong></em>é…ç½®ã€‚</li>
<li>åœ¨åˆæ‹äº‘çš„è®¾ç½®ç•Œé¢å¡«å†™ç›¸å…³çš„é…ç½®å³å¯ã€‚</li>
<li>è®¾å®šBucket,è¿™é‡Œçš„<em><strong>bucket</strong></em>å°±æ˜¯å‰é¢åˆ›å»ºçš„<em><strong>äº‘å­˜å‚¨æœåŠ¡çš„åç§°ã€‚</strong></em></li>
<li>è®¾å®šæ“ä½œå‘˜å°±æ˜¯ä½ ç»™äº‘æœåŠ¡æˆæƒçš„æ“ä½œäººåç§°</li>
<li>è®¾å®š<em><strong>æ“ä½œå‘˜å¯†ç </strong></em>ï¼Œè¿™ä¸ªå¯†ç å°±æ˜¯åœ¨åˆ›å»ºæ“ä½œå‘˜çš„æ—¶å€™ç”Ÿæˆçš„å¯†ç ã€‚</li>
<li>è®¾å®šåŠ é€ŸåŸŸåï¼Œè¯¥é¡¹å€¼æ˜¯åœ¨åˆæ‹äº‘æ§åˆ¶å°-&gt;äº‘å­˜å‚¨æœåŠ¡-&gt;æœåŠ¡ç®¡ç† äº‘å­˜å‚¨ï¼ˆåœ¨è¯¥é¡µé¢ä¸­ç‚¹å‡»æœåŠ¡åç§°ï¼‰-&gt;åŸŸåç®¡ç†é¡µé¢çš„åŠ é€ŸåŸŸå</li>
<li>è®¾å®šç½‘å€åç¼€ï¼ˆé€‰å¡«ï¼‰ï¼Œå¯ä»¥ä¸å¡«ä¸å½±å“ä½¿ç”¨ã€‚</li>
<li>è®¾å®š<em><strong>å­˜å‚¨è·¯å¾„</strong></em>ï¼Œå°±æ˜¯ä½ åœ¨bucket(äº‘å­˜å‚¨æœåŠ¡)ä¸­çš„<em><strong>æ–‡ä»¶å¤¹è·¯å¾„</strong></em>ã€‚ä¹Ÿå¯ä»¥ä¸å¡«ï¼Œè¿™æ ·å›¾ç‰‡ä¼šä¸Šä¼ åˆ°ä½ çš„bucketçš„æ ¹ç›®å½•ä¸‹ã€‚</li>
<li>å®Œæˆä»¥ä¸Šè®¾ç½®ä»¥åï¼Œç‚¹å‡»ä¿å­˜ï¼Œåœ¨ä¸Šä¼ åŒºåŸŸé€‰æ‹©åˆæ‹äº‘ã€‚å°±å¯ä»¥å®Œæˆå›¾ç‰‡é€šè¿‡picgoä¸Šä¼ åˆæ‹äº‘äº‘å­˜å‚¨äº†ã€‚</li>
<li>è¿™æ—¶åœ¨typoraå†™æ–‡ç« å›¾ç‰‡åŒæ ·ä¹Ÿä¼šä¸Šä¼ åˆæ‹äº‘ã€‚</li>
</ol>
<p>å…¶ä»–äº‘å­˜å‚¨æœåŠ¡å’Œå›¾åºŠçš„é…ç½®åŸºæœ¬ä¸Šå¤§è‡´ç›¸åŒã€‚è¿™é‡Œå°±ä¸å±•å¼€æè¿°äº†ã€‚åç»­å¯èƒ½ä¼šæ·»åŠ å…¶ä»–çš„å…è´¹çš„å›¾åºŠé…ç½®çš„å†…å®¹ã€‚</p>
<p>å®Œç»“</p>
]]></content>
      <categories>
        <category>å·¥å…·</category>
        <category>å›¾åºŠ</category>
      </categories>
      <tags>
        <tag>å·¥å…·</tag>
        <tag>å›¾åºŠé…ç½®</tag>
        <tag>Picgo</tag>
        <tag>äº‘å­˜å‚¨æœåŠ¡</tag>
      </tags>
  </entry>
  <entry>
    <title>Oracleç¬”è®°</title>
    <url>/2024/10/19/Oracle%E7%AC%94%E8%AE%B0/</url>
    <content><![CDATA[<h2 id="PL-SQL-developerå®‰è£…"><a href="#PL-SQL-developerå®‰è£…" class="headerlink" title="PL&#x2F;SQL developerå®‰è£…"></a>PL&#x2F;SQL developerå®‰è£…</h2><p>1ã€å®‰è£…PL&#x2F;SQL developerç¨‹åºï¼Œå®‰è£…ç›®å½•ä¸è¦å‡ºç°ä¸­æ–‡ã€‚</p>
<p>2ã€é…ç½®å®¢æˆ·ç«¯è·¯å¾„ï¼šç‚¹å‡»PL&#x2F;SQL developerç•Œé¢çš„Configure-&gt;Preferences-&gt;oracleé…ç½®çš„connectå±æ€§é…ç½®ã€‚ï¼Œå’Œ</p>
<p>æŒ‡å®šOracle Home è·¯å¾„ï¼šD:\BaiduNetdiskDownload\client\instantclient_12_1</p>
<p>æŒ‡å®šOCI libraryè·¯å¾„ï¼šD:\BaiduNetdiskDownload\client\instantclient_12_1\oci.dll</p>
<p><figure class="image-caption"><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s2.loli.net/2024/10/19/cpLkrysu8OPBWn3.png"
                      alt="image-20230714112548602"
                ><figcaption>image-20230714112548602</figcaption></figure></p>
<p>3ã€åœ¨ ORACLE çš„ä»¥ä¸‹å®‰è£…ç›®å½•ä¸­æ‰¾åˆ° tnsnames.ora æ–‡ä»¶ï¼Œæ‹·è´åˆ°æœ¬åœ°ç”µè„‘çš„ Dç›˜æ ¹ç›®å½•ã€‚æ‰“å¼€ tnsnames.ora æ–‡ä»¶ç¼–è¾‘é…ç½®oracleæ‰€åœ¨çš„æœåŠ¡å™¨IPåœ°å€ï¼Œè®¾ç½®ç¯å¢ƒå˜é‡ TNS_ADMIN ä¸º D ç›˜æ ¹ç›®å½•( tnsnames.ora æ‰€åœ¨ç›®å½• )</p>
<p><figure class="image-caption"><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s2.loli.net/2024/10/19/3moA91eZRBKpDIG.png"
                      alt="image-20230714113841909"
                ><figcaption>image-20230714113841909</figcaption></figure></p>
<p>4ã€ä¸­æ–‡ç¼–ç è®¾ç½®æŸ¥çœ‹æœåŠ¡å™¨ç«¯ç¼–ç  </p>
<div class="highlight-container" data-rel="Sql"><figure class="iseeu highlight sql"><table><tr><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">SQL</span>:<span class="hljs-keyword">select</span> userenv(<span class="hljs-string">&#x27;language&#x27;</span>) <span class="hljs-keyword">from</span> dual;<br></code></pre></td></tr></table></figure></div>

<p>æˆ‘å®é™…æŸ¥åˆ°çš„ç»“æœä¸º:AMERICAN_AMERICA.ZHS16GBK<br>5ã€é…ç½®ç¯å¢ƒå˜é‡ï¼Œè®¡ç®—æœº-&gt;å±æ€§-&gt;é«˜çº§ç³»ç»Ÿè®¾ç½®-&gt;ç¯å¢ƒå˜é‡-&gt;æ–°å»ºï¼Œè®¾ç½®å˜é‡å:NLS_LANG,å˜é‡å€¼:ç¬¬ 1 æ­¥æŸ¥åˆ°çš„å€¼ï¼Œ<br>AMERICAN_AMERICA.ZHS16GBK</p>
<h2 id="1ã€æ•°æ®ç±»å‹"><a href="#1ã€æ•°æ®ç±»å‹" class="headerlink" title="1ã€æ•°æ®ç±»å‹"></a>1ã€æ•°æ®ç±»å‹</h2><h4 id="number-æ•°å€¼ç±»å‹"><a href="#number-æ•°å€¼ç±»å‹" class="headerlink" title="number æ•°å€¼ç±»å‹"></a>number æ•°å€¼ç±»å‹</h4><div class="highlight-container" data-rel="Sql"><figure class="iseeu highlight sql"><table><tr><td class="code"><pre><code class="hljs sql">numberï¼ˆ<span class="hljs-number">5</span>ï¼‰ æœ€å¤§å€¼<span class="hljs-number">99999</span> <br>number(<span class="hljs-number">5</span>,<span class="hljs-number">2</span>) æœ€å¤§å€¼<span class="hljs-number">999.99</span><br></code></pre></td></tr></table></figure></div>

<h4 id="å­—ç¬¦ä¸²ç±»å‹"><a href="#å­—ç¬¦ä¸²ç±»å‹" class="headerlink" title="å­—ç¬¦ä¸²ç±»å‹"></a>å­—ç¬¦ä¸²ç±»å‹</h4><div class="highlight-container" data-rel="Text"><figure class="iseeu highlight text"><table><tr><td class="code"><pre><code class="hljs text">char å›ºå®šé•¿åº¦çš„å­—ç¬¦ç±»å‹ï¼Œæœ€å¤šå­˜å‚¨2000ä¸ªå­—èŠ‚<br>varchar2 å¯å˜é•¿åº¦çš„å­—ç¬¦ç±»å‹ï¼Œæœ€å¤šå­˜å‚¨4000ä¸ªå­—èŠ‚<br>long  å¤§æ–‡æœ¬ç±»å‹ã€‚æœ€å¤§å¯ä»¥å­˜å‚¨2ä¸ªG<br></code></pre></td></tr></table></figure></div>

<h4 id="æ—¥æœŸç±»å‹"><a href="#æ—¥æœŸç±»å‹" class="headerlink" title="æ—¥æœŸç±»å‹"></a>æ—¥æœŸç±»å‹</h4><div class="highlight-container" data-rel="Sql"><figure class="iseeu highlight sql"><table><tr><td class="code"><pre><code class="hljs sql">sysdate æ—¥æœŸæ—¶é—´å‹ï¼Œç²¾ç¡®åˆ°ç§’<br><span class="hljs-type">timestamp</span> ç²¾ç¡®åˆ°ç§’çš„å°æ•°ç‚¹å<span class="hljs-number">9</span>ä½<br></code></pre></td></tr></table></figure></div>

<h4 id="äºŒè¿›åˆ¶ç±»å‹"><a href="#äºŒè¿›åˆ¶ç±»å‹" class="headerlink" title="äºŒè¿›åˆ¶ç±»å‹"></a>äºŒè¿›åˆ¶ç±»å‹</h4><div class="highlight-container" data-rel="Sql"><figure class="iseeu highlight sql"><table><tr><td class="code"><pre><code class="hljs sql"><span class="hljs-type">clob</span> å­˜å‚¨å­—ç¬¦,æœ€å¤§å¯ä»¥å­˜<span class="hljs-number">4</span>ä¸ªG<br><span class="hljs-type">blob</span> å­˜å‚¨å›¾åƒã€å£°éŸ³ã€è§†é¢‘ç­‰äºŒè¿›åˆ¶æ•°æ®,æœ€å¤šå¯ä»¥å­˜<span class="hljs-number">4</span>ä¸ªG<br></code></pre></td></tr></table></figure></div>

<h2 id="2ã€DDLæ“ä½œ"><a href="#2ã€DDLæ“ä½œ" class="headerlink" title="2ã€DDLæ“ä½œ"></a>2ã€DDLæ“ä½œ</h2><h4 id="ç”¨SQLPLUSè¿æ¥Oracleçš„è¿æ¥å­—ç¬¦ä¸²"><a href="#ç”¨SQLPLUSè¿æ¥Oracleçš„è¿æ¥å­—ç¬¦ä¸²" class="headerlink" title="ç”¨SQLPLUSè¿æ¥Oracleçš„è¿æ¥å­—ç¬¦ä¸²"></a>ç”¨SQLPLUSè¿æ¥Oracleçš„è¿æ¥å­—ç¬¦ä¸²</h4><div class="highlight-container" data-rel="Sql"><figure class="iseeu highlight sql"><table><tr><td class="code"><pre><code class="hljs sql">sqlplus <span class="hljs-keyword">system</span><span class="hljs-operator">/</span>local123<span class="hljs-variable">@192</span><span class="hljs-number">.168</span><span class="hljs-number">.157</span><span class="hljs-number">.129</span>:<span class="hljs-number">1521</span><span class="hljs-operator">/</span>orcl<br>sqlplus    è´¦æˆ·å<span class="hljs-operator">/</span>å¯†ç @æ‰€åœ¨ä¸»æœº:ç«¯å£å·<br>sqlplus <span class="hljs-keyword">system</span><span class="hljs-operator">/</span>local123 <span class="hljs-keyword">as</span> sysdba<br></code></pre></td></tr></table></figure></div>

<h4 id="åˆ›å»ºè¡¨ç©ºé—´"><a href="#åˆ›å»ºè¡¨ç©ºé—´" class="headerlink" title="åˆ›å»ºè¡¨ç©ºé—´"></a>åˆ›å»ºè¡¨ç©ºé—´</h4><div class="highlight-container" data-rel="Sql"><figure class="iseeu highlight sql"><table><tr><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">create</span> <span class="hljs-keyword">table</span>space xxxx<br>datafile <span class="hljs-string">&#x27;c:\xxxx.dbf&#x27;</span><br>size <span class="hljs-number">100</span>m autoextend <span class="hljs-keyword">on</span> next <span class="hljs-number">10</span>m<br>xxxè¡¨ç¤ºè¡¨ç©ºé—´å<br>datafile è¡¨ç¤ºæ•°æ®å‚¨å­˜çš„ç‰©ç†æ–‡ä»¶å<br>size ç”¨äºè®¾ç½®è¡¨çš„åˆå§‹å¤§å°<br>autoextend <span class="hljs-keyword">on</span> ç”¨äºè®¾ç½®è‡ªåŠ¨å¢é•¿ï¼Œå¦‚æœå­˜å‚¨é‡è¶…è¿‡åˆå§‹å¤§å°ï¼Œåˆ™å¼€å§‹è‡ªåŠ¨æ‰©å®¹<br>next ç”¨äºè®¾ç½®æ‰©å®¹çš„ç©ºé—´å¤§å°<br><span class="hljs-keyword">create</span> <span class="hljs-keyword">table</span>space test;<br>datafile <span class="hljs-string">&#x27;c:\test.dbf&#x27;</span><br>size <span class="hljs-number">100</span>m autoextend <span class="hljs-keyword">on</span> next <span class="hljs-number">10</span>m<br></code></pre></td></tr></table></figure></div>

<h4 id="åˆ›å»ºç”¨æˆ·"><a href="#åˆ›å»ºç”¨æˆ·" class="headerlink" title="åˆ›å»ºç”¨æˆ·"></a>åˆ›å»ºç”¨æˆ·</h4><div class="highlight-container" data-rel="Sql"><figure class="iseeu highlight sql"><table><tr><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">create</span> <span class="hljs-keyword">user</span> ç”¨æˆ·å<br>identified <span class="hljs-keyword">by</span> å¯†ç <br><span class="hljs-keyword">default</span> tablespace è¡¨ç©ºé—´å<br></code></pre></td></tr></table></figure></div>

<h4 id="ç”¨æˆ·èµ‹äºˆæƒé™"><a href="#ç”¨æˆ·èµ‹äºˆæƒé™" class="headerlink" title="ç”¨æˆ·èµ‹äºˆæƒé™"></a>ç”¨æˆ·èµ‹äºˆæƒé™</h4><div class="highlight-container" data-rel="Pgsql"><figure class="iseeu highlight pgsql"><table><tr><td class="code"><pre><code class="hljs pgsql"><span class="hljs-keyword">grant</span> dba <span class="hljs-keyword">to</span> ç”¨æˆ·å  ç»™xxxç”¨æˆ·æˆäºˆDBAæƒé™<br></code></pre></td></tr></table></figure></div>

<h4 id="è¡¨çš„åˆ›å»º"><a href="#è¡¨çš„åˆ›å»º" class="headerlink" title="è¡¨çš„åˆ›å»º"></a>è¡¨çš„åˆ›å»º</h4><div class="highlight-container" data-rel="Sql"><figure class="iseeu highlight sql"><table><tr><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">create</span> <span class="hljs-keyword">table</span> è¡¨åï¼ˆ<br>å­—æ®µå  å­—æ®µç±»å‹[é•¿åº¦] [çº¦æŸ],<br>....<br>ï¼‰<br>ä¾‹å¦‚<br><span class="hljs-keyword">create</span> <span class="hljs-keyword">table</span> users(<br>userid number <span class="hljs-keyword">primary</span> key,<br>name varchar2(<span class="hljs-number">50</span>)<br>);<br><span class="hljs-keyword">create</span> <span class="hljs-keyword">table</span> t_owners(<br>id number <span class="hljs-keyword">primary</span> key,<br>name varchar2(<span class="hljs-number">30</span>),<br>addressid number,<br>housenumber varchar2(<span class="hljs-number">30</span>),<br>watermeter varchar2(<span class="hljs-number">30</span>),<br>adddate <span class="hljs-type">date</span>,<br>ownertypeid number<br>)<br><span class="hljs-keyword">create</span> <span class="hljs-keyword">table</span> t_ownertype(id number  <span class="hljs-keyword">primary</span> key,name varchar2(<span class="hljs-number">30</span>));<br><span class="hljs-keyword">create</span> <span class="hljs-keyword">table</span> t_pricetable(id number <span class="hljs-keyword">primary</span> key,price number(<span class="hljs-number">10</span>,<span class="hljs-number">2</span>),ownertypeid number,minnum number(<span class="hljs-number">10</span>,<span class="hljs-number">2</span>),maxnum number(<span class="hljs-number">10</span>,<span class="hljs-number">2</span>));<br><span class="hljs-keyword">create</span> <span class="hljs-keyword">table</span> t_area(id number <span class="hljs-keyword">primary</span> key,name varchar2(<span class="hljs-number">30</span>));<br><span class="hljs-keyword">create</span> <span class="hljs-keyword">table</span> t_operator(id number prmary key,name varchar2(<span class="hljs-number">30</span>));<br><span class="hljs-keyword">create</span> <span class="hljs-keyword">table</span> t_address(id number,name varchar2(<span class="hljs-number">30</span>),areaid number,operatorid number);<br><span class="hljs-keyword">create</span> <span class="hljs-keyword">table</span> t_account(id number,ownerid number,ownertypeid number,areaid number,<span class="hljs-keyword">year</span> <span class="hljs-type">char</span>(<span class="hljs-number">4</span>),<span class="hljs-keyword">month</span> <span class="hljs-type">char</span>(<span class="hljs-number">2</span>),num0 number,num1 number,usenum number,meteruserid number,meterdate <span class="hljs-type">date</span>,money number(<span class="hljs-number">10</span>,<span class="hljs-number">2</span>),isfee <span class="hljs-type">char</span>(<span class="hljs-number">1</span>),feedate <span class="hljs-type">date</span>,feeuserid number);<br></code></pre></td></tr></table></figure></div>

<h4 id="è¡¨çš„ä¿®æ”¹"><a href="#è¡¨çš„ä¿®æ”¹" class="headerlink" title="è¡¨çš„ä¿®æ”¹"></a>è¡¨çš„ä¿®æ”¹</h4><div class="highlight-container" data-rel="Sql"><figure class="iseeu highlight sql"><table><tr><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">desc</span> tablename æŸ¥çœ‹è¡¨çš„è¯¦æƒ…<br>#<span class="hljs-number">1</span>ã€å¢åŠ å­—æ®µè¯­æ³•<br><span class="hljs-keyword">alter</span> <span class="hljs-keyword">table</span> tablename <span class="hljs-keyword">add</span> ( å­—æ®µå  å­—æ®µç±»å‹ [<span class="hljs-keyword">default</span> é»˜è®¤å€¼ ],å­—æ®µå  å­—æ®µç±»å‹ [<span class="hljs-keyword">default</span> é»˜è®¤å€¼ ] );<br><span class="hljs-keyword">alter</span> <span class="hljs-keyword">table</span> t_owners <span class="hljs-keyword">add</span> ( level number <span class="hljs-keyword">default</span> <span class="hljs-number">1</span>,email varchar2(<span class="hljs-number">255</span>) );<br>#<span class="hljs-number">2</span>ã€ä¿®æ”¹å­—æ®µè¯­æ³•<br><span class="hljs-keyword">alter</span> <span class="hljs-keyword">table</span> tablename modify(å­—æ®µå å­—æ®µç±»å‹[<span class="hljs-keyword">default</span> é»˜è®¤å€¼],å­—æ®µå å­—æ®µç±»å‹[<span class="hljs-keyword">default</span> é»˜è®¤å€¼]);<br><span class="hljs-keyword">alter</span> <span class="hljs-keyword">table</span> t_owners modify(email varchar2(<span class="hljs-number">50</span>));<br>#<span class="hljs-number">3</span>ã€ä¿®æ”¹å­—æ®µå<br><span class="hljs-keyword">alter</span> <span class="hljs-keyword">table</span> tablename rename <span class="hljs-keyword">column</span> åŸå­—æ®µå <span class="hljs-keyword">to</span> æ–°çš„å­—æ®µå<br><span class="hljs-keyword">alter</span> <span class="hljs-keyword">table</span> t_owners rename <span class="hljs-keyword">column</span> email <span class="hljs-keyword">to</span> mail;<br>#<span class="hljs-number">4</span>ã€åˆ é™¤å­—æ®µå<br><span class="hljs-keyword">alter</span> <span class="hljs-keyword">table</span> tablename <span class="hljs-keyword">drop</span> <span class="hljs-keyword">column</span> å­—æ®µåï¼›<br><span class="hljs-keyword">alter</span> <span class="hljs-keyword">table</span> t_owners <span class="hljs-keyword">drop</span> tel<br>#<span class="hljs-number">5</span>ã€åˆ é™¤å¤šä¸ªå­—æ®µå<br><span class="hljs-keyword">alter</span> <span class="hljs-keyword">table</span> tablename <span class="hljs-keyword">drop</span> (å­—æ®µ<span class="hljs-number">1</span>,å­—æ®µ<span class="hljs-number">2</span>);<br><br></code></pre></td></tr></table></figure></div>

<h4 id="æ¸…ç©ºè¡¨"><a href="#æ¸…ç©ºè¡¨" class="headerlink" title="æ¸…ç©ºè¡¨"></a>æ¸…ç©ºè¡¨</h4><div class="highlight-container" data-rel="Sql"><figure class="iseeu highlight sql"><table><tr><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">truncate</span> <span class="hljs-keyword">table</span> tablename; åˆ é™¤è¡¨å†é‡æ„è¡¨<br><span class="hljs-keyword">delete</span> <span class="hljs-keyword">from</span> tablename <span class="hljs-keyword">where</span> <span class="hljs-number">1</span><span class="hljs-operator">=</span><span class="hljs-number">1</span>; è¡¨ç»“æ„è¿˜åœ¨ ä¸»é”®è‡ªå¢çš„åºåˆ—ä¾ç„¶å­˜åœ¨<br></code></pre></td></tr></table></figure></div>

<h4 id="åˆ é™¤è¡¨"><a href="#åˆ é™¤è¡¨" class="headerlink" title="åˆ é™¤è¡¨"></a>åˆ é™¤è¡¨</h4><div class="highlight-container" data-rel="Sql"><figure class="iseeu highlight sql"><table><tr><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">drop</span> <span class="hljs-keyword">table</span> tablename;<br></code></pre></td></tr></table></figure></div>

<h2 id="3ã€DMLæ“ä½œ"><a href="#3ã€DMLæ“ä½œ" class="headerlink" title="3ã€DMLæ“ä½œ"></a>3ã€DMLæ“ä½œ</h2><h4 id="insertæ“ä½œ"><a href="#insertæ“ä½œ" class="headerlink" title="insertæ“ä½œ"></a>insertæ“ä½œ</h4><div class="highlight-container" data-rel="Sql"><figure class="iseeu highlight sql"><table><tr><td class="code"><pre><code class="hljs sql"><br><span class="hljs-keyword">create</span> <span class="hljs-keyword">table</span> t_owners(<br>id number <span class="hljs-keyword">primary</span> key,<br>name varchar2(<span class="hljs-number">30</span>),<br>addressid number,<br>housenumber varchar2(<span class="hljs-number">30</span>),<br>watermeter varchar2(<span class="hljs-number">30</span>),<br>adddate <span class="hljs-type">date</span>,<br>ownertypeid number<br>)<br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> T_OWNERS <span class="hljs-keyword">VALUES</span> (<span class="hljs-number">1</span>,<span class="hljs-string">&#x27;å¼ ä¸‰ä¸°&#x27;</span>,<span class="hljs-number">1001</span>,<span class="hljs-string">&#x27;2-2&#x27;</span>,<span class="hljs-string">&#x27;5678&#x27;</span>,sysdate,<span class="hljs-number">1001</span>);<br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> T_OWNERS <span class="hljs-keyword">VALUES</span> (<span class="hljs-number">2</span>,<span class="hljs-string">&#x27;è‹èµ«&#x27;</span>,<span class="hljs-number">1002</span>,<span class="hljs-string">&#x27;15-2&#x27;</span>,<span class="hljs-string">&#x27;8975&#x27;</span>,sysdate,<span class="hljs-number">1001</span>);<br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> T_OWNERS <span class="hljs-keyword">VALUES</span> (<span class="hljs-number">3</span>,<span class="hljs-string">&#x27;æ¶‚å±±çº¢çº¢&#x27;</span>,<span class="hljs-number">1002</span>,<span class="hljs-string">&#x27;6-2&#x27;</span>,<span class="hljs-string">&#x27;3456&#x27;</span>,sysdate,<span class="hljs-number">1001</span>);<br><span class="hljs-keyword">commit</span>;<br>#<span class="hljs-keyword">create</span> <span class="hljs-keyword">table</span> t_ownertype(id number  <span class="hljs-keyword">primary</span> key,name varchar2(<span class="hljs-number">30</span>));<br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> t_ownertype(id,name)<span class="hljs-keyword">values</span>(<span class="hljs-number">1001</span>,<span class="hljs-string">&#x27;master&#x27;</span>);<br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> t_ownertype(id,name)<span class="hljs-keyword">values</span>(<span class="hljs-number">1002</span>,<span class="hljs-string">&#x27;levelmaster&#x27;</span>);<br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> t_ownertype(id,name)<span class="hljs-keyword">values</span>(<span class="hljs-number">1003</span>,<span class="hljs-string">&#x27;supermaster&#x27;</span>);<br><br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> t_ownertype(id,name)<span class="hljs-keyword">values</span>(<span class="hljs-number">1001</span>,<span class="hljs-string">&#x27;å±…æ°‘&#x27;</span>);<br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> t_ownertype(id,name)<span class="hljs-keyword">values</span>(<span class="hljs-number">1002</span>,<span class="hljs-string">&#x27;ç‰©ä¸š&#x27;</span>);<br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> t_ownertype(id,name)<span class="hljs-keyword">values</span>(<span class="hljs-number">1003</span>,<span class="hljs-string">&#x27;æ¥å…µ&#x27;</span>);<br><span class="hljs-keyword">commit</span>;<br>#<span class="hljs-keyword">create</span> <span class="hljs-keyword">table</span> t_pricetable(id number <span class="hljs-keyword">primary</span> key,price number(<span class="hljs-number">10</span>,<span class="hljs-number">2</span>),ownertypeid number,minnum #number(<span class="hljs-number">10</span>,<span class="hljs-number">2</span>),maxnum number(<span class="hljs-number">10</span>,<span class="hljs-number">2</span>));<br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> t_pricetable <span class="hljs-keyword">values</span>(<span class="hljs-number">3</span>,<span class="hljs-number">2.45</span>,<span class="hljs-number">1001</span>,<span class="hljs-number">0</span>,<span class="hljs-number">5</span>);<br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> t_pricetable <span class="hljs-keyword">values</span>(<span class="hljs-number">4</span>,<span class="hljs-number">3.45</span>,<span class="hljs-number">1001</span>,<span class="hljs-number">5</span>,<span class="hljs-number">10</span>);<br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> t_pricetable <span class="hljs-keyword">values</span>(<span class="hljs-number">5</span>,<span class="hljs-number">4.45</span>,<span class="hljs-number">1001</span>,<span class="hljs-number">10</span>,<span class="hljs-keyword">null</span>);<br><span class="hljs-keyword">commit</span><br>#<span class="hljs-keyword">create</span> <span class="hljs-keyword">table</span> t_area(id number <span class="hljs-keyword">primary</span> key,name varchar2(<span class="hljs-number">30</span>));<br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> t_area <span class="hljs-keyword">values</span>(<span class="hljs-number">1001</span>,<span class="hljs-string">&#x27;East China&#x27;</span>);<br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> t_area <span class="hljs-keyword">values</span>(<span class="hljs-number">1002</span>,<span class="hljs-string">&#x27;North China&#x27;</span>);<br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> t_area <span class="hljs-keyword">values</span>(<span class="hljs-number">1003</span>,<span class="hljs-string">&#x27;NorthEast&#x27;</span>);<br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> t_area <span class="hljs-keyword">values</span>(<span class="hljs-number">1004</span>,<span class="hljs-string">&#x27;SouthWest&#x27;</span>);<br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> t_area <span class="hljs-keyword">values</span>(<span class="hljs-number">1001</span>,<span class="hljs-string">&#x27;åŒæµåŒº&#x27;</span>);<br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> t_area <span class="hljs-keyword">values</span>(<span class="hljs-number">1002</span>,<span class="hljs-string">&#x27;æ¸©æ±ŸåŒº&#x27;</span>);<br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> t_area <span class="hljs-keyword">values</span>(<span class="hljs-number">1003</span>,<span class="hljs-string">&#x27;é’ç¾ŠåŒº&#x27;</span>);<br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> t_area <span class="hljs-keyword">values</span>(<span class="hljs-number">1004</span>,<span class="hljs-string">&#x27;é’ç™½æ±ŸåŒº&#x27;</span>);<br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> t_area <span class="hljs-keyword">values</span>(<span class="hljs-number">1005</span>,<span class="hljs-string">&#x27;æ­¦ä¾¯åŒº&#x27;</span>);<br><span class="hljs-keyword">commit</span>;<br>#<span class="hljs-keyword">create</span> <span class="hljs-keyword">table</span> t_operator(id number <span class="hljs-keyword">primary</span> key,name varchar2(<span class="hljs-number">30</span>));<br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> t_operator <span class="hljs-keyword">values</span>(<span class="hljs-number">1001</span>,<span class="hljs-string">&#x27;mary&#x27;</span>);<br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> t_operator <span class="hljs-keyword">values</span>(<span class="hljs-number">1002</span>,<span class="hljs-string">&#x27;sueh&#x27;</span>);<br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> t_operator <span class="hljs-keyword">values</span>(<span class="hljs-number">1003</span>,<span class="hljs-string">&#x27;lili&#x27;</span>);<br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> t_operator <span class="hljs-keyword">values</span>(<span class="hljs-number">1004</span>,<span class="hljs-string">&#x27;harry&#x27;</span>);<br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> t_operator <span class="hljs-keyword">values</span>(<span class="hljs-number">1001</span>,<span class="hljs-string">&#x27;å°æ˜&#x27;</span>);<br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> t_operator <span class="hljs-keyword">values</span>(<span class="hljs-number">1002</span>,<span class="hljs-string">&#x27;å°ä½•&#x27;</span>);<br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> t_operator <span class="hljs-keyword">values</span>(<span class="hljs-number">1003</span>,<span class="hljs-string">&#x27;å°è‹&#x27;</span>);<br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> t_operator <span class="hljs-keyword">values</span>(<span class="hljs-number">1004</span>,<span class="hljs-string">&#x27;å°çº¢&#x27;</span>);<br><span class="hljs-keyword">commit</span>;<br>#<span class="hljs-keyword">create</span> <span class="hljs-keyword">table</span> t_address(id number <span class="hljs-keyword">primary</span> key,name varchar2(<span class="hljs-number">30</span>),areaid number,operatorid number);<br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> t_address <span class="hljs-keyword">values</span>(<span class="hljs-number">1001</span>,<span class="hljs-string">&#x27;quhouqu&#x27;</span>,<span class="hljs-number">1004</span>,<span class="hljs-number">1001</span>);<br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> t_address <span class="hljs-keyword">values</span>(<span class="hljs-number">1002</span>,<span class="hljs-string">&#x27;qingyangqu&#x27;</span>,<span class="hljs-number">1004</span>,<span class="hljs-number">1002</span>);<br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> t_address <span class="hljs-keyword">values</span>(<span class="hljs-number">1003</span>,<span class="hljs-string">&#x27;shuangliuqu&#x27;</span>,<span class="hljs-number">1004</span>,<span class="hljs-number">1003</span>);<br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> t_address <span class="hljs-keyword">values</span>(<span class="hljs-number">1004</span>,<span class="hljs-string">&#x27;wenjiangqu&#x27;</span>,<span class="hljs-number">1004</span>,<span class="hljs-number">1004</span>);<br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> t_address <span class="hljs-keyword">values</span>(<span class="hljs-number">1001</span>,<span class="hljs-string">&#x27;è‰é‡‘è·¯&#x27;</span>,<span class="hljs-number">1004</span>,<span class="hljs-number">1001</span>);<br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> t_address <span class="hljs-keyword">values</span>(<span class="hljs-number">1002</span>,<span class="hljs-string">&#x27;å°šæ¥ æ¹¾&#x27;</span>,<span class="hljs-number">1004</span>,<span class="hljs-number">1002</span>);<br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> t_address <span class="hljs-keyword">values</span>(<span class="hljs-number">1003</span>,<span class="hljs-string">&#x27;æ±Ÿå®‰æ²³å¤§æ¡¥&#x27;</span>,<span class="hljs-number">1004</span>,<span class="hljs-number">1003</span>);<br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> t_address <span class="hljs-keyword">values</span>(<span class="hljs-number">1004</span>,<span class="hljs-string">&#x27;å´‡æ•™è·¯&#x27;</span>,<span class="hljs-number">1004</span>,<span class="hljs-number">1004</span>);<br><span class="hljs-keyword">commit</span>;<br><br>#<span class="hljs-keyword">create</span> <span class="hljs-keyword">table</span> t_account(id number,ownerid number,ownertypeid number,areaid number,<span class="hljs-keyword">year</span> <span class="hljs-type">char</span>(<span class="hljs-number">4</span>),<span class="hljs-keyword">month</span> #<span class="hljs-type">char</span>(<span class="hljs-number">2</span>),num0 number,num1 number,usenum number,meteruserid number,meterdate <span class="hljs-type">date</span>,money number(<span class="hljs-number">10</span>,<span class="hljs-number">2</span>),isfee #<span class="hljs-type">char</span>(<span class="hljs-number">1</span>),feedate <span class="hljs-type">date</span>,feeuserid number);<br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> t_account <span class="hljs-keyword">values</span>(<span class="hljs-number">1</span>,<span class="hljs-number">1001</span>,<span class="hljs-number">1001</span>,<span class="hljs-number">1001</span>,<span class="hljs-number">2023</span>,<span class="hljs-number">06</span>,<span class="hljs-number">43543</span>,<span class="hljs-number">46456</span>,<span class="hljs-number">3000</span>,<span class="hljs-number">1001</span>,sysdate,<span class="hljs-number">3232</span>,<span class="hljs-number">0</span>,sysdate,<span class="hljs-number">1001</span>);<br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> t_account <span class="hljs-keyword">values</span>(<span class="hljs-number">2</span>,<span class="hljs-number">1002</span>,<span class="hljs-number">1001</span>,<span class="hljs-number">1002</span>,<span class="hljs-number">2023</span>,<span class="hljs-number">06</span>,<span class="hljs-number">46456</span>,<span class="hljs-number">50020</span>,<span class="hljs-number">3564</span>,<span class="hljs-number">1002</span>,sysdate,<span class="hljs-number">3755</span>,<span class="hljs-number">0</span>,sysdate,<span class="hljs-number">1001</span>);<br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> t_account <span class="hljs-keyword">values</span>(<span class="hljs-number">3</span>,<span class="hljs-number">1003</span>,<span class="hljs-number">1002</span>,<span class="hljs-number">1003</span>,<span class="hljs-number">2023</span>,<span class="hljs-number">06</span>,<span class="hljs-number">82122</span>,<span class="hljs-number">92131</span>,<span class="hljs-number">10009</span>,<span class="hljs-number">1003</span>,sysdate,<span class="hljs-number">12000</span>,<span class="hljs-number">0</span>,sysdate,<span class="hljs-number">1001</span>);<br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> t_account <span class="hljs-keyword">values</span>(<span class="hljs-number">4</span>,<span class="hljs-number">1001</span>,<span class="hljs-number">1001</span>,<span class="hljs-number">1001</span>,<span class="hljs-number">2023</span>,<span class="hljs-number">07</span>,<span class="hljs-number">46456</span>,<span class="hljs-number">50000</span>,<span class="hljs-number">3544</span>,<span class="hljs-number">1004</span>,sysdate,<span class="hljs-number">3232</span>,<span class="hljs-number">0</span>,sysdate,<span class="hljs-number">1001</span>);<br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> t_account <span class="hljs-keyword">values</span>(<span class="hljs-number">5</span>,<span class="hljs-number">1004</span>,<span class="hljs-number">1001</span>,<span class="hljs-number">1004</span>,<span class="hljs-number">2023</span>,<span class="hljs-number">06</span>,<span class="hljs-number">60000</span>,<span class="hljs-number">80000</span>,<span class="hljs-number">20000</span>,<span class="hljs-number">1001</span>,sysdate,<span class="hljs-number">3232</span>,<span class="hljs-number">0</span>,sysdate,<span class="hljs-number">1001</span>);<br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> t_account <span class="hljs-keyword">values</span>(<span class="hljs-number">6</span>,<span class="hljs-number">1003</span>,<span class="hljs-number">1001</span>,<span class="hljs-number">1003</span>,<span class="hljs-number">2023</span>,<span class="hljs-number">07</span>,<span class="hljs-number">92131</span>,<span class="hljs-number">100000</span>,<span class="hljs-number">7869</span>,<span class="hljs-number">1001</span>,sysdate,<span class="hljs-number">3232</span>,<span class="hljs-number">0</span>,sysdate,<span class="hljs-number">1001</span>);<br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> t_account <span class="hljs-keyword">values</span>(<span class="hljs-number">7</span>,<span class="hljs-number">1001</span>,<span class="hljs-number">1001</span>,<span class="hljs-number">1001</span>,<span class="hljs-number">2023</span>,<span class="hljs-number">08</span>,<span class="hljs-number">50000</span>,<span class="hljs-number">70000</span>,<span class="hljs-number">20000</span>,<span class="hljs-number">1003</span>,sysdate,<span class="hljs-number">3232</span>,<span class="hljs-number">0</span>,sysdate,<span class="hljs-number">1001</span>);<br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> t_account <span class="hljs-keyword">values</span>(<span class="hljs-number">8</span>,<span class="hljs-number">1002</span>,<span class="hljs-number">1001</span>,<span class="hljs-number">1002</span>,<span class="hljs-number">2023</span>,<span class="hljs-number">07</span>,<span class="hljs-number">50020</span>,<span class="hljs-number">70020</span>,<span class="hljs-number">20000</span>,<span class="hljs-number">1003</span>,sysdate,<span class="hljs-number">20000</span>,<span class="hljs-number">0</span>,sysdate,<span class="hljs-number">1001</span>);<br><span class="hljs-keyword">commit</span>;<br>#å…³è”æŸ¥è¯¢<br><span class="hljs-keyword">select</span><br>  tad.id <span class="hljs-keyword">as</span> addressid,<br>  tad.name <span class="hljs-keyword">as</span> addressname,<br>  ta.name <span class="hljs-keyword">as</span> areaname,<br>  top.name <span class="hljs-keyword">as</span> operatorname<br><span class="hljs-keyword">from</span> t_address tad,t_area ta,t_operator top<br><span class="hljs-keyword">where</span> tad.areaid<span class="hljs-operator">=</span>ta.id <span class="hljs-keyword">and</span> tad.operatorid<span class="hljs-operator">=</span>top.id;<br><br><br><span class="hljs-keyword">select</span> <br>	t1.addressid,<br>   	t1.addressname,<br>    t2.name <span class="hljs-keyword">as</span> operatoname,<br>   	t1.areaname<br><span class="hljs-keyword">from</span> (<br>   <span class="hljs-keyword">select</span> <br>   		tad.id <span class="hljs-keyword">as</span> addressid,<br>   		tad.name <span class="hljs-keyword">as</span> addressname,<br>    	tad.operatorid <span class="hljs-keyword">as</span> operatorid,<br>   		ta.name <span class="hljs-keyword">as</span> areaname<br>   <span class="hljs-keyword">from</span> t_address tad <span class="hljs-keyword">left</span>  <span class="hljs-keyword">join</span> t_area ta <span class="hljs-keyword">on</span> tad.areaid<span class="hljs-operator">=</span>ta.id<br>) t1 <span class="hljs-keyword">left</span> <span class="hljs-keyword">join</span> t_operator t2 <span class="hljs-keyword">on</span> t1.operatorid<span class="hljs-operator">=</span> t2.id;<br></code></pre></td></tr></table></figure></div>

<h4 id="updateæ•°æ®ä¿®æ”¹"><a href="#updateæ•°æ®ä¿®æ”¹" class="headerlink" title="updateæ•°æ®ä¿®æ”¹"></a>updateæ•°æ®ä¿®æ”¹</h4><div class="highlight-container" data-rel="Sql"><figure class="iseeu highlight sql"><table><tr><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">update</span> è¡¨å <span class="hljs-keyword">set</span> å­—æ®µ<span class="hljs-operator">=</span>æ–°å€¼ï¼Œå­—æ®µ<span class="hljs-operator">=</span>æ–°å€¼ <span class="hljs-keyword">where</span> æ¡ä»¶;<br><span class="hljs-keyword">update</span> t_ownertype <span class="hljs-keyword">set</span> id<span class="hljs-operator">=</span><span class="hljs-number">1004</span>,name<span class="hljs-operator">=</span><span class="hljs-string">&#x27;level1master&#x27;</span> <span class="hljs-keyword">where</span> id<span class="hljs-operator">=</span><span class="hljs-number">1001</span>;<br><span class="hljs-keyword">commit</span>;<br></code></pre></td></tr></table></figure></div>

<h4 id="deleteåˆ é™¤æ•°æ®"><a href="#deleteåˆ é™¤æ•°æ®" class="headerlink" title="deleteåˆ é™¤æ•°æ®"></a>deleteåˆ é™¤æ•°æ®</h4><div class="highlight-container" data-rel="Sql"><figure class="iseeu highlight sql"><table><tr><td class="code"><pre><code class="hljs sql">#<span class="hljs-keyword">delete</span> <span class="hljs-keyword">from</span> tablename <span class="hljs-keyword">where</span> æ¡ä»¶<br><span class="hljs-keyword">delete</span> <span class="hljs-keyword">from</span> t_ownertype <span class="hljs-keyword">where</span> id <span class="hljs-operator">=</span><span class="hljs-number">1004</span>;<br><span class="hljs-keyword">commit</span>;<br><span class="hljs-keyword">delete</span> <span class="hljs-keyword">from</span> t_ownertype <span class="hljs-keyword">where</span> id <span class="hljs-operator">&gt;</span><span class="hljs-number">1001</span>;<br><span class="hljs-keyword">delete</span> <span class="hljs-keyword">from</span> t_ownertype <span class="hljs-keyword">where</span> id <span class="hljs-keyword">in</span> (<span class="hljs-number">1001</span>,<span class="hljs-number">1002</span>,<span class="hljs-number">1003</span>);<br><span class="hljs-keyword">commit</span>;<br></code></pre></td></tr></table></figure></div>

<blockquote>
<p>æ³¨æ„å¢åˆ æ”¹æŸ¥æ“ä½œå®Œæˆåè®°å¾—commitæäº¤äº‹åŠ¡</p>
</blockquote>
<h4 id="å¯¼å…¥å¯¼å‡º"><a href="#å¯¼å…¥å¯¼å‡º" class="headerlink" title="å¯¼å…¥å¯¼å‡º"></a>å¯¼å…¥å¯¼å‡º</h4><p>æ•°æ®çš„å¯¼å‡º</p>
<div class="highlight-container" data-rel="Sql"><figure class="iseeu highlight sql"><table><tr><td class="code"><pre><code class="hljs sql">expdp(impdp) ç”¨æˆ·å<span class="hljs-operator">/</span>å¯†ç @è¿æ¥åœ°å€:ç«¯å£<span class="hljs-operator">/</span>æœåŠ¡å [schemas<span class="hljs-operator">|</span>owner]<span class="hljs-operator">=</span>ç”¨æˆ·å [dumpfile<span class="hljs-operator">|</span>file]<span class="hljs-operator">=</span>file1.dmp logfile<span class="hljs-operator">=</span>file1.log directory<span class="hljs-operator">=</span>testdata1 remap_schema<span class="hljs-operator">=</span>test:test;<br>exp:å¯¼å‡ºå‘½ä»¤ï¼Œå¯¼å‡ºæ—¶å¿…å†™ã€‚<br>imp:å¯¼å…¥å‘½ä»¤ï¼Œå¯¼å…¥æ—¶å¿…å†™,æ¯æ¬¡æ“ä½œï¼ŒäºŒè€…åªèƒ½é€‰æ‹©ä¸€ä¸ªæ‰§è¡Œã€‚<br>username:å¯¼å‡ºæ•°æ®çš„ç”¨æˆ·åï¼Œå¿…å†™;<br>password:å¯¼å‡ºæ•°æ®çš„å¯†ç ï¼Œå¿…å†™;<br>@:åœ°å€ç¬¦å·ï¼Œå¿…å†™;<br>SERVICENAME:Oracleçš„æœåŠ¡åï¼Œå¿…å†™;<br><span class="hljs-number">1521</span>:ç«¯å£å·ï¼Œ<span class="hljs-number">1521</span>æ˜¯é»˜è®¤çš„å¯ä»¥ä¸å†™,éé»˜è®¤è¦å†™;<br>schemasï¼šå¯¼å‡ºæ“ä½œçš„ç”¨æˆ·å;<br>dumpfileï¼šå¯¼å‡ºçš„æ–‡ä»¶;<br>logfile:å¯¼å‡ºçš„æ—¥å¿—æ–‡ä»¶,å¯ä»¥ä¸å†™ï¼›<br>directory: å¦‚æœæ‰‹å·¥åˆ›å»ºäº†è½¬å‚¨æ–‡ä»¶å’Œæ—¥å¿—æ–‡ä»¶ï¼Œé€šè¿‡æœ¬å‘½ä»¤æŒ‡å®šå¯¼å‡ºä½ç½®<br>remap_schema<span class="hljs-operator">=</span>æºæ•°æ®åº“ç”¨æˆ·å:ç›®æ ‡æ•°æ®åº“ç”¨æˆ·å,äºŒè€…ä¸åŒæ—¶å¿…å†™ï¼Œç›¸åŒå¯ä»¥çœç•¥;<br><br>#ä¾‹å¦‚<br>exp <span class="hljs-keyword">system</span><span class="hljs-operator">/</span>local123 <span class="hljs-keyword">full</span><span class="hljs-operator">=</span>y æ•´ä¸ªæ•°æ®åº“å…¨éƒ¨å¯¼å‡º<br>exp <span class="hljs-keyword">system</span><span class="hljs-operator">/</span>local123 <span class="hljs-keyword">full</span><span class="hljs-operator">=</span>y [dumpfile<span class="hljs-operator">|</span>file]<span class="hljs-operator">=</span>a.dmp<br>exp lili<span class="hljs-operator">/</span>lili123 file<span class="hljs-operator">=</span>lili.dmp owner<span class="hljs-operator">=</span>lili;<br>æŒ‰ç”¨æˆ·å¯¼å…¥<br>imp lili<span class="hljs-operator">/</span>lili123 file<span class="hljs-operator">=</span>lili.dmp fromuserlili;<br></code></pre></td></tr></table></figure></div>

<div class="highlight-container" data-rel="Sql"><figure class="iseeu highlight sql"><table><tr><td class="code"><pre><code class="hljs sql">é€šè¿‡<span class="hljs-variable">@F</span>:\website\oraok\ot\<span class="hljs-number">11</span>g\ot_drop.sql å¯¼å…¥Fç›˜ä¸‹çš„\website\oraok\ot\<span class="hljs-number">11</span>g\ç›®å½•ä¸‹çš„ot_drop.sqlæ–‡ä»¶<br></code></pre></td></tr></table></figure></div>

<h2 id="4ã€DMLç»ƒä¹ "><a href="#4ã€DMLç»ƒä¹ " class="headerlink" title="4ã€DMLç»ƒä¹ "></a>4ã€DMLç»ƒä¹ </h2><div class="highlight-container" data-rel="Sql"><figure class="iseeu highlight sql"><table><tr><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> tac.areaid,<span class="hljs-built_in">sum</span>(tac.money),ta.name <span class="hljs-keyword">from</span> t_account tac,t_area ta <span class="hljs-keyword">where</span> tac.areaid<span class="hljs-operator">=</span>ta.id <span class="hljs-keyword">group</span> <span class="hljs-keyword">by</span> tac.areaid,ta.name;<br></code></pre></td></tr></table></figure></div>

<h4 id="ç®€å•æŸ¥è¯¢"><a href="#ç®€å•æŸ¥è¯¢" class="headerlink" title="ç®€å•æŸ¥è¯¢"></a>ç®€å•æŸ¥è¯¢</h4><div class="highlight-container" data-rel="Sql"><figure class="iseeu highlight sql"><table><tr><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> t_owners;<br>#ç²¾ç¡®æŸ¥è¯¢<br><span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> t_owners <span class="hljs-keyword">where</span> watermeter<span class="hljs-operator">=</span><span class="hljs-number">5678</span>;<br>#æ¨¡ç³ŠæŸ¥è¯¢<br><span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> t_owners <span class="hljs-keyword">where</span> name <span class="hljs-keyword">like</span> <span class="hljs-string">&#x27;%å¼ %&#x27;</span>;<br>#<span class="hljs-keyword">and</span>çš„è¿ç®—ç¬¦ <span class="hljs-keyword">or</span>è¿ç®—ç¬¦<br><span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> t_owners <span class="hljs-keyword">where</span> name <span class="hljs-keyword">like</span> <span class="hljs-string">&#x27;å¼ %&#x27;</span> <span class="hljs-keyword">or</span> name <span class="hljs-keyword">like</span> <span class="hljs-string">&#x27;%å±±%&#x27;</span>;<br><span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> t_owners <span class="hljs-keyword">where</span> name <span class="hljs-keyword">like</span> <span class="hljs-string">&#x27;_å±±__&#x27;</span> <span class="hljs-keyword">or</span> watermeter<span class="hljs-operator">&gt;</span><span class="hljs-number">5678</span>;<br>#<span class="hljs-keyword">and</span>è¿ç®—ç¬¦ <span class="hljs-keyword">or</span>è¿ç®—ç¬¦æ··åˆä½¿ç”¨<br><span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> t_owners <span class="hljs-keyword">where</span> (name <span class="hljs-keyword">like</span> <span class="hljs-string">&#x27;%è‹%&#x27;</span> <span class="hljs-keyword">or</span> name <span class="hljs-keyword">like</span> <span class="hljs-string">&#x27;%å±±%&#x27;</span> ) <span class="hljs-keyword">and</span> addressid <span class="hljs-operator">=</span><span class="hljs-number">1002</span>;<br>#èŒƒå›´æŸ¥è¯¢<br><span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> t_account <span class="hljs-keyword">where</span> num0<span class="hljs-operator">&gt;=</span><span class="hljs-number">50000</span> <span class="hljs-keyword">and</span> num0<span class="hljs-operator">&lt;=</span><span class="hljs-number">70000</span>;<br><span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> t_account <span class="hljs-keyword">where</span> num0 <span class="hljs-keyword">between</span> <span class="hljs-number">50000</span> <span class="hljs-keyword">and</span> <span class="hljs-number">70000</span>;<br>#ç©ºå€¼æŸ¥è¯¢<br><span class="hljs-keyword">select</span> <span class="hljs-operator">*</span>  <span class="hljs-keyword">from</span> t_account isfee <span class="hljs-keyword">is</span> <span class="hljs-keyword">null</span>;<br>#æŸ¥è¯¢éç©ºå€¼<br><span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> t_account isfee <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> <span class="hljs-keyword">null</span>;<br>#å»é‡æŸ¥è¯¢<br><span class="hljs-keyword">select</span> <span class="hljs-keyword">distinct</span> addressid <span class="hljs-keyword">from</span> t_owners ; <br>#æ’åº é»˜è®¤å‡åº<span class="hljs-keyword">asc</span> <span class="hljs-keyword">desc</span>é™åº<br><span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> t_account <span class="hljs-keyword">order</span> <span class="hljs-keyword">by</span> usenum <span class="hljs-keyword">desc</span>;<br>#åŸºäºä¼ªåˆ—çš„æŸ¥è¯¢rowid rowidæ˜¯ä¿å­˜æ•°æ®åœ¨ç£ç›˜ä¸Šçš„ç‰©ç†åœ°å€<br><span class="hljs-keyword">select</span> rowid,t.<span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> t_owners t;<br>#å¯ä»¥é€šè¿‡rowidæ¥æŒ‡å®šæŸ¥è¯¢çš„æŸæ¡æ•°æ®<br><span class="hljs-keyword">select</span> rowid,t.<span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> t_owners t <span class="hljs-keyword">where</span> rowid<span class="hljs-operator">=</span><span class="hljs-string">&#x27;AAASNcAABAAAVJpAAD&#x27;</span>;<br>#åŸºäºä¼ªåˆ—çš„æŸ¥è¯¢rownum rownumæ˜¯åŸºäºæŸ¥è¯¢å‡ºçš„ç»“æœé›†çš„åºå·<br><span class="hljs-keyword">select</span> rownum,t.<span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> t_owners t;<br>#èšåˆç»Ÿè®¡sum<br><span class="hljs-keyword">select</span> <span class="hljs-built_in">sum</span>(usenum) <span class="hljs-keyword">from</span> t_account <span class="hljs-keyword">where</span> <span class="hljs-keyword">year</span><span class="hljs-operator">=</span><span class="hljs-string">&#x27;2023&#x27;</span>;<br>#å¹³å‡å€¼<br><span class="hljs-keyword">select</span> <span class="hljs-built_in">avg</span>(usenum) <span class="hljs-keyword">from</span> t_account <span class="hljs-keyword">where</span> <span class="hljs-keyword">year</span><span class="hljs-operator">=</span><span class="hljs-string">&#x27;2023&#x27;</span>;<br>#æœ€å°å€¼<br><span class="hljs-keyword">select</span> <span class="hljs-built_in">min</span>(usenum) <span class="hljs-keyword">from</span> t_account <span class="hljs-keyword">where</span> <span class="hljs-keyword">year</span><span class="hljs-operator">=</span><span class="hljs-string">&#x27;2023&#x27;</span>;<br>#æœ€å¤§å€¼<br><span class="hljs-keyword">select</span> <span class="hljs-built_in">max</span>(usenum) <span class="hljs-keyword">from</span> t_account <span class="hljs-keyword">where</span> <span class="hljs-keyword">year</span><span class="hljs-operator">=</span><span class="hljs-string">&#x27;2023&#x27;</span>;<br>#ç»Ÿè®¡ä¸ªæ•°<br><span class="hljs-keyword">select</span> <span class="hljs-built_in">count</span>(id) <span class="hljs-keyword">from</span> t_account <span class="hljs-keyword">where</span> <span class="hljs-keyword">year</span><span class="hljs-operator">=</span><span class="hljs-string">&#x27;2023&#x27;</span>;<br>#åˆ†ç»„æŸ¥è¯¢<br><span class="hljs-keyword">select</span> areaid,<span class="hljs-built_in">sum</span>(usenum) <span class="hljs-keyword">from</span> t_account <span class="hljs-keyword">group</span> <span class="hljs-keyword">by</span> areaid;<br>#åˆ†ç»„ååœ¨æŒ‡å®šæ¡ä»¶çš„æŸ¥è¯¢<br><span class="hljs-keyword">select</span> areaid,<span class="hljs-built_in">sum</span>(usenum) <span class="hljs-keyword">from</span> t_account <span class="hljs-keyword">group</span> <span class="hljs-keyword">by</span> areaid <span class="hljs-keyword">having</span> <span class="hljs-built_in">sum</span>(usenum)<span class="hljs-operator">&gt;</span><span class="hljs-number">20000</span>;<br></code></pre></td></tr></table></figure></div>

<h4 id="è¿æ¥æŸ¥è¯¢"><a href="#è¿æ¥æŸ¥è¯¢" class="headerlink" title="è¿æ¥æŸ¥è¯¢"></a>è¿æ¥æŸ¥è¯¢</h4><div class="highlight-container" data-rel="Sql"><figure class="iseeu highlight sql"><table><tr><td class="code"><pre><code class="hljs sql">#å¤šè¡¨å†…è¿æ¥<br><span class="hljs-keyword">select</span> twn.<span class="hljs-operator">*</span>,ta.name addressname <span class="hljs-keyword">from</span> t_owners twn,t_address ta <span class="hljs-keyword">where</span> twn.addressid<span class="hljs-operator">=</span>ta.id;<br><br>#æŸ¥è¯¢æ˜¾ç¤ºä¸šä¸»ç¼–å·ï¼Œä¸šä¸»åç§°ã€åœ°å€å’Œä¸šä¸»ç±»å‹<br><span class="hljs-keyword">select</span> twn.id,twn.name,ta.name addressname,tt.name ownertype <span class="hljs-keyword">from</span> t_owners twn,t_ownertype tt,t_address ta <span class="hljs-keyword">where</span> twn.ownertypeid<span class="hljs-operator">=</span>tt.id <span class="hljs-keyword">and</span> twn.addressid<span class="hljs-operator">=</span>ta.id; <br><br>#æŸ¥è¯¢æ˜¾ç¤ºä¸šä¸»ç¼–å·ã€ä¸šä¸»åç§°ã€åœ°å€ã€æ‰€å±åŒºåŸŸã€ä¸šä¸»åˆ†ç±»<br><span class="hljs-keyword">select</span> twn.id,twn.name,ta.name addressname,t1.name areaname,tt.name ownername <span class="hljs-keyword">from</span> t_owners twn, t_area t1,t_address ta,t_ownertype tt <span class="hljs-keyword">where</span> twn.addressid<span class="hljs-operator">=</span>ta.id <span class="hljs-keyword">and</span> twn.ownertypeid<span class="hljs-operator">=</span>tt.id <span class="hljs-keyword">and</span> ta.areaid<span class="hljs-operator">=</span>t1.id;<br><br>#æŸ¥è¯¢æ˜¾ç¤ºä¸šä¸»ç¼–å·ã€ä¸šä¸»åç§°ã€åœ°å€ã€æ‰€å±åŒºåŸŸã€æ”¶è´¹å‘˜ã€ä¸šä¸»åˆ†ç±»<br><span class="hljs-keyword">select</span> twn.id,twn.name,ta.name addressname,t1.name areaname,top.name operatorname,tt.name ownertypename <span class="hljs-keyword">from</span> t_owners twn,t_address ta,t_area t1,t_operator top,t_ownertype tt<br><span class="hljs-keyword">where</span> twn.addressid<span class="hljs-operator">=</span>ta.id <span class="hljs-keyword">and</span> twn.ownertypeid<span class="hljs-operator">=</span>tt.id <span class="hljs-keyword">and</span> ta.areaid<span class="hljs-operator">=</span>t1.id <span class="hljs-keyword">and</span> ta.operatorid<span class="hljs-operator">=</span>top.id;<br><br>#æŸ¥è¯¢ä¸šä¸»çš„è´¦åŠ¡è®°å½•ï¼Œæ˜¾ç¤ºä¸šä¸»ç¼–å·ã€åç§°ã€å¹´ã€æœˆã€é‡‘é¢ã€‚å¦‚æœæ­¤ä¸šä¸»æ²¡æœ‰è´¦åŠ¡è®°å½•ä¹Ÿè¦åˆ—å‡ºå§“åã€‚<br><span class="hljs-keyword">select</span> twn.id,twn.name,tacc.year,tacc.month,tacc.money <span class="hljs-keyword">from</span> t_owners twn <span class="hljs-keyword">left</span> <span class="hljs-keyword">join</span> t_account tacc <span class="hljs-keyword">on</span> twn.id<span class="hljs-operator">=</span>tacc.ownerid; <br><br>#å·¦å¤–è¿æ¥<br><span class="hljs-keyword">select</span> twn.id,twn.name,tacc.year,tacc.month,tacc.money <span class="hljs-keyword">from</span> t_owners twn,t_account tacc <span class="hljs-keyword">where</span> twn.id<span class="hljs-operator">=</span>tacc.ownerid(<span class="hljs-operator">+</span>);<br><br>#å³å¤–è¿æ¥<br><span class="hljs-keyword">select</span> twn.id,twn.name,tacc.year,tacc.month,tacc.money <span class="hljs-keyword">from</span> t_owners twn,t_account tacc <span class="hljs-keyword">where</span> twn.id(<span class="hljs-operator">+</span>)<span class="hljs-operator">=</span>tacc.ownerid;<br><br></code></pre></td></tr></table></figure></div>

<h4 id="å­æŸ¥è¯¢"><a href="#å­æŸ¥è¯¢" class="headerlink" title="å­æŸ¥è¯¢"></a>å­æŸ¥è¯¢</h4><ol>
<li><p>whereå­å¥ä¸­çš„å­æŸ¥è¯¢</p>
<div class="highlight-container" data-rel="Sql"><figure class="iseeu highlight sql"><table><tr><td class="code"><pre><code class="hljs sql">#å•è¡Œå­æŸ¥è¯¢<br>#æŸ¥è¯¢ <span class="hljs-number">2023</span> å¹´ <span class="hljs-number">6</span> æœˆç”¨æ°´é‡å¤§äºå¹³å‡å€¼çš„å°è´¦è®°å½•<br><span class="hljs-keyword">select</span> <span class="hljs-built_in">avg</span>(usenum) <span class="hljs-keyword">from</span> t_account <span class="hljs-keyword">where</span> <span class="hljs-keyword">month</span><span class="hljs-operator">=</span><span class="hljs-number">6</span>;<br><span class="hljs-keyword">select</span> usenum <span class="hljs-keyword">from</span> t_account <span class="hljs-keyword">where</span> usenum<span class="hljs-operator">&gt;</span>(<span class="hljs-keyword">select</span> <span class="hljs-built_in">avg</span>(usenum) <span class="hljs-keyword">from</span> t_account <span class="hljs-keyword">where</span> <span class="hljs-keyword">month</span><span class="hljs-operator">=</span><span class="hljs-number">6</span>) <span class="hljs-keyword">and</span> <span class="hljs-keyword">month</span><span class="hljs-operator">=</span><span class="hljs-number">6</span>;<br>#å¤šè¡Œå­æŸ¥è¯¢<br><span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> t_address <span class="hljs-keyword">where</span> id <span class="hljs-keyword">in</span> (<span class="hljs-number">1001</span>,<span class="hljs-number">1002</span>);<br>#æŸ¥è¯¢åœ°å€å«æœ‰â€œè‰â€çš„ä¸šä¸»çš„ä¿¡æ¯<br><span class="hljs-keyword">select</span> id <span class="hljs-keyword">from</span> t_address <span class="hljs-keyword">where</span> name <span class="hljs-keyword">like</span> <span class="hljs-string">&#x27;%è‰%&#x27;</span>;<br><span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> t_owners <span class="hljs-keyword">where</span> addressid <span class="hljs-keyword">in</span> (<span class="hljs-keyword">select</span> id <span class="hljs-keyword">from</span> t_address <span class="hljs-keyword">where</span> name <span class="hljs-keyword">like</span> <span class="hljs-string">&#x27;%æ±Ÿå®‰æ²³%&#x27;</span>);<br><br>#æŸ¥è¯¢åœ°å€ä¸å«æœ‰â€œè‰â€çš„ä¸šä¸»çš„ä¿¡æ¯<br><span class="hljs-keyword">select</span> id <span class="hljs-keyword">from</span> t_address <span class="hljs-keyword">where</span> name <span class="hljs-keyword">not</span> <span class="hljs-keyword">like</span> <span class="hljs-string">&#x27;%è‰%&#x27;</span>;<br><span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> t_owners <span class="hljs-keyword">where</span> addressid <span class="hljs-keyword">in</span> (<span class="hljs-keyword">select</span> id <span class="hljs-keyword">from</span> t_address <span class="hljs-keyword">where</span> name <span class="hljs-keyword">not</span> <span class="hljs-keyword">like</span> <span class="hljs-string">&#x27;%è‰%&#x27;</span>);<br><br><span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> t_onwers <span class="hljs-keyword">where</span> addressid <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span>(<span class="hljs-keyword">select</span> id <span class="hljs-keyword">from</span> t_address <span class="hljs-keyword">where</span> name <span class="hljs-keyword">like</span> <span class="hljs-string">&#x27;%è‰%&#x27;</span>);<br>#<br></code></pre></td></tr></table></figure></div>
</li>
<li><p>fromå­å¥ä¸­çš„å­æŸ¥è¯¢</p>
<p>fromå­æŸ¥è¯¢ä¸ºå¤šè¡Œå­æŸ¥è¯¢</p>
<div class="highlight-container" data-rel="Sql"><figure class="iseeu highlight sql"><table><tr><td class="code"><pre><code class="hljs sql">#æŸ¥è¯¢æ˜¾ç¤ºä¸šä¸»ç¼–å·ï¼Œä¸šä¸»åç§°ï¼Œä¸šä¸»ç±»å‹åç§°ï¼Œæ¡ä»¶ä¸ºä¸šä¸»ç±»å‹ä¸ºâ€å±…æ°‘â€ï¼Œä½¿ç”¨å­æŸ¥è¯¢å®ç°ã€‚<br><span class="hljs-keyword">select</span> id,name,ownertypename <span class="hljs-keyword">from</span> (<span class="hljs-keyword">select</span> twn.<span class="hljs-operator">*</span>,tt.name ownertypename  <span class="hljs-keyword">from</span> t_owners twn,t_ownertype tt  <span class="hljs-keyword">where</span> twn.ownertypeid<span class="hljs-operator">=</span>tt.id <span class="hljs-keyword">and</span> tt.name<span class="hljs-operator">=</span><span class="hljs-string">&#x27;å±…æ°‘&#x27;</span>)<br><br></code></pre></td></tr></table></figure></div>
</li>
<li><p>select å­å¥ä¸­çš„å­æŸ¥è¯¢</p>
<div class="highlight-container" data-rel="Sql"><figure class="iseeu highlight sql"><table><tr><td class="code"><pre><code class="hljs sql">#åˆ—å‡ºä¸šä¸»ä¿¡æ¯ï¼ŒåŒ…æ‹¬ IDï¼Œåç§°ï¼Œæ‰€å±åœ°å€ã€‚<br><span class="hljs-keyword">select</span> id,name,(<span class="hljs-keyword">select</span> name <span class="hljs-keyword">from</span> t_address <span class="hljs-keyword">where</span> id<span class="hljs-operator">=</span>addressid) addressname <span class="hljs-keyword">from</span> t_owners;<br>#åˆ—å‡ºä¸šä¸»ä¿¡æ¯ï¼ŒåŒ…æ‹¬ IDï¼Œåç§°ï¼Œæ‰€å±åœ°å€ï¼Œæ‰€å±åŒºåŸŸ<br><span class="hljs-keyword">select</span> id,name,<br>(<span class="hljs-keyword">select</span> name <span class="hljs-keyword">from</span> t_address <span class="hljs-keyword">where</span> id<span class="hljs-operator">=</span>addressid) addressname,<br>(<span class="hljs-keyword">select</span> (<span class="hljs-keyword">select</span> name <span class="hljs-keyword">from</span> t_area <span class="hljs-keyword">where</span> id<span class="hljs-operator">=</span>areaid) <span class="hljs-keyword">from</span> t_address <span class="hljs-keyword">where</span> id<span class="hljs-operator">=</span>addressid) areaname<br><span class="hljs-keyword">from</span> t_owners;<br></code></pre></td></tr></table></figure></div>
</li>
<li><p>åˆ†é¡µæŸ¥è¯¢</p>
<p>ä½¿ç”¨rownumä¼ªåˆ—æ¥å®Œæˆåˆ†é¡µæŸ¥è¯¢çš„åŠŸèƒ½ã€‚</p>
<div class="highlight-container" data-rel="Sql"><figure class="iseeu highlight sql"><table><tr><td class="code"><pre><code class="hljs sql">#åˆ†é¡µæŸ¥è¯¢å°è´¦è¡¨ T_ACCOUNTï¼Œæ¯é¡µ <span class="hljs-number">10</span> æ¡è®°å½•<br><span class="hljs-keyword">select</span> rownum,t.<span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> t_account t <span class="hljs-keyword">where</span> rownum<span class="hljs-operator">&lt;=</span><span class="hljs-number">5</span>; <br>#æŸ¥è¯¢<span class="hljs-number">5</span>åˆ°<span class="hljs-number">10</span>çš„æ•°æ®<br>#å­æŸ¥è¯¢é‡Œrownumå°äºè¾ƒå¤§å€¼,å¤–é¢rownumå¤§äºè¾ƒå°å€¼<br><span class="hljs-keyword">select</span> rownum,t.<span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> (<span class="hljs-keyword">select</span> rownum r,t.<span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> t_account t <span class="hljs-keyword">where</span> rownum<span class="hljs-operator">&lt;=</span><span class="hljs-number">20</span>) t <span class="hljs-keyword">where</span> r<span class="hljs-operator">&lt;=</span><span class="hljs-number">5</span>;<br></code></pre></td></tr></table></figure></div></li>
</ol>
<h2 id="5ã€å‡½æ•°"><a href="#5ã€å‡½æ•°" class="headerlink" title="5ã€å‡½æ•°"></a>5ã€å‡½æ•°</h2><h4 id="å­—ç¬¦å‡½æ•°"><a href="#å­—ç¬¦å‡½æ•°" class="headerlink" title="å­—ç¬¦å‡½æ•°"></a>å­—ç¬¦å‡½æ•°</h4><div class="highlight-container" data-rel="Sql"><figure class="iseeu highlight sql"><table><tr><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> ascii(<span class="hljs-string">&#x27;a&#x27;</span>) <span class="hljs-keyword">from</span> dual;ASCII() è¿”å›å­—ç¬¦çš„åè¿›åˆ¶æ•°;<br><span class="hljs-keyword">select</span> chr(<span class="hljs-number">97</span>) <span class="hljs-keyword">from</span> dual; chr() è¿”å›åè¿›åˆ¶æ•°çš„å¯¹åº”çš„å­—ç¬¦;<br><span class="hljs-keyword">select</span> concat(<span class="hljs-string">&#x27;aa&#x27;</span>,<span class="hljs-string">&#x27;bb&#x27;</span>) <span class="hljs-keyword">from</span> dual; æ‹¼æ¥ä¸¤ä¸ªå­—ç¬¦ä¸² <span class="hljs-operator">||</span> <br><span class="hljs-keyword">select</span> <span class="hljs-string">&#x27;aa&#x27;</span> <span class="hljs-operator">||</span> <span class="hljs-string">&#x27;bb&#x27;</span> <span class="hljs-keyword">from</span> dual;<br><span class="hljs-keyword">select</span> initcap(<span class="hljs-string">&#x27;string&#x27;</span>) <span class="hljs-keyword">from</span> dual;<br><span class="hljs-keyword">select</span> instr(<span class="hljs-string">&#x27;adbc&#x27;</span>,<span class="hljs-string">&#x27;a&#x27;</span>) <span class="hljs-keyword">from</span> dual; æ‰¾å‡ºæŸä¸ªå­—ç¬¦çš„ä½ç½®<br><span class="hljs-keyword">select</span> instrb(<span class="hljs-string">&#x27;abc&#x27;</span>,<span class="hljs-string">&#x27;a&#x27;</span>) <span class="hljs-keyword">from</span> dual;<br><span class="hljs-keyword">select</span> length(<span class="hljs-string">&#x27;asdfgh&#x27;</span>) <span class="hljs-keyword">from</span> dual; ç»™å‡ºå­—ç¬¦ä¸²çš„é•¿åº¦<br><span class="hljs-keyword">select</span> <span class="hljs-built_in">lower</span>(<span class="hljs-string">&#x27;HELLO&#x27;</span>) <span class="hljs-keyword">from</span> dual;å°†å­—ç¬¦è½¬åŒ–æˆå°å†™<br><span class="hljs-keyword">select</span> <span class="hljs-built_in">upper</span>(<span class="hljs-string">&#x27;apple&#x27;</span>) <span class="hljs-keyword">from</span> dual;å°†å­—ç¬¦ä¸²è½¬åŒ–æˆå°å†™<br>#å»é™¤æŒ‡å®šçš„å­—ç¬¦ä¸²<br><span class="hljs-keyword">select</span> ltrim(<span class="hljs-string">&#x27;##apple&#x27;</span>,<span class="hljs-string">&#x27;#&#x27;</span>) <span class="hljs-keyword">from</span> dual;<br><span class="hljs-keyword">select</span> rtrim(<span class="hljs-string">&#x27;apple@@&#x27;</span>,<span class="hljs-string">&#x27;@&#x27;</span>) <span class="hljs-keyword">from</span> dual;<br><span class="hljs-keyword">select</span> <span class="hljs-built_in">trim</span>(<span class="hljs-string">&#x27;p&#x27;</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;apple&#x27;</span>) <span class="hljs-keyword">from</span> dual;<br><span class="hljs-keyword">select</span> lpad(<span class="hljs-string">&#x27;apple&#x27;</span>,<span class="hljs-number">10</span>,<span class="hljs-string">&#x27;*&#x27;</span>) <span class="hljs-keyword">from</span> dual;åœ¨å­—ç¬¦ä¸²c1çš„å·¦è¾¹ç”¨å­—ç¬¦ä¸²c2å¡«å……ï¼Œç›´åˆ°é•¿åº¦ä¸º<span class="hljs-number">10</span>æ—¶ä¸ºæ­¢<br><span class="hljs-keyword">select</span> rpad(<span class="hljs-string">&#x27;apple&#x27;</span>,<span class="hljs-number">10</span>,<span class="hljs-string">&#x27;#&#x27;</span>) <span class="hljs-keyword">from</span> dual;<br><span class="hljs-keyword">select</span> replace(<span class="hljs-string">&#x27;apple&#x27;</span>,<span class="hljs-string">&#x27;p&#x27;</span>,<span class="hljs-string">&#x27;bb&#x27;</span>) <span class="hljs-keyword">from</span> dual;æ›¿æ¢æŒ‡å®šçš„å­—ç¬¦ä¸²ã€‚<br><span class="hljs-keyword">select</span> substr(<span class="hljs-string">&#x27;apple&#x27;</span>,<span class="hljs-string">&#x27;1&#x27;</span>,<span class="hljs-number">2</span>) <span class="hljs-keyword">from</span> dual;ä»ç¬¬ä¸€ä¸ªä½ç½®å¼€å§‹æˆªå–ï¼Œæˆªå–ä¸¤ä½<br><br></code></pre></td></tr></table></figure></div>

<h4 id="æ—¥æœŸå‡½æ•°"><a href="#æ—¥æœŸå‡½æ•°" class="headerlink" title="æ—¥æœŸå‡½æ•°"></a>æ—¥æœŸå‡½æ•°</h4><div class="highlight-container" data-rel="Sql"><figure class="iseeu highlight sql"><table><tr><td class="code"><pre><code class="hljs sql">sysdate è¿”å›ç³»ç»Ÿå½“å‰æ—¶é—´<br><span class="hljs-keyword">select</span> sysdate <span class="hljs-keyword">from</span> dual;<br>add_months ç»™ç³»ç»Ÿè¿”å›çš„æ—¶é—´åŠ ä¸€å¤©<br><span class="hljs-keyword">select</span> add_months(sysdate,<span class="hljs-number">1</span>) <span class="hljs-keyword">from</span> dual;<br>last_day è¿”å›æœˆä»½çš„æœ€åä¸€å¤©<br><span class="hljs-keyword">select</span> last_day(add_months(sysdate,<span class="hljs-number">2</span>)) <span class="hljs-keyword">from</span> dual;<br><span class="hljs-keyword">select</span> months_between(sysdate,to_date(<span class="hljs-string">&#x27;2023-04-30&#x27;</span>,<span class="hljs-string">&#x27;yyyy-MM-dd&#x27;</span>)) <span class="hljs-keyword">from</span> dual;<br><br><span class="hljs-keyword">select</span> <span class="hljs-built_in">localtimestamp</span> <span class="hljs-keyword">from</span> dual;è¿”å›ä¼šè¯ä¸­çš„æ—¥æœŸå’Œæ—¶é—´ <br><span class="hljs-keyword">select</span> <span class="hljs-built_in">current_timestamp</span> <span class="hljs-keyword">from</span> dual;<br><span class="hljs-keyword">select</span> greatest(sysdate,add_months(sysdate,<span class="hljs-number">2</span>)) <span class="hljs-keyword">from</span> dual; è¿”å›ä¸¤ä¸ªæ—¶é—´ä¸­æœ€æ™šçš„ã€‚æ—¶é—´æˆ³æœ€å¤§çš„ã€‚<br></code></pre></td></tr></table></figure></div>

<h4 id="æ•°å€¼å‡½æ•°"><a href="#æ•°å€¼å‡½æ•°" class="headerlink" title="æ•°å€¼å‡½æ•°"></a>æ•°å€¼å‡½æ•°</h4><div class="highlight-container" data-rel="Sql"><figure class="iseeu highlight sql"><table><tr><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span>  <span class="hljs-built_in">abs</span>(<span class="hljs-keyword">value</span>) <span class="hljs-keyword">from</span> dual;ç»å¯¹å€¼<br><span class="hljs-keyword">select</span> <span class="hljs-built_in">ceil</span>(<span class="hljs-keyword">value</span>) <span class="hljs-keyword">from</span> dual;å¤§äºæˆ–ç­‰äº <span class="hljs-keyword">value</span> çš„æœ€å°æ•´æ•°<br><span class="hljs-keyword">select</span> <span class="hljs-built_in">cos</span>(<span class="hljs-keyword">value</span>) <span class="hljs-keyword">from</span> dual; ä½™å¼¦<br><span class="hljs-keyword">select</span> <span class="hljs-built_in">cosh</span>(<span class="hljs-keyword">value</span>) <span class="hljs-keyword">from</span> dual;åä½™å¼¦<br><span class="hljs-keyword">select</span> <span class="hljs-built_in">exp</span>(<span class="hljs-keyword">value</span>) <span class="hljs-keyword">from</span> dual;eçš„<span class="hljs-keyword">value</span>æ¬¡å¹‚<br><span class="hljs-keyword">select</span> <span class="hljs-built_in">floor</span>(<span class="hljs-keyword">value</span>) <span class="hljs-keyword">from</span> dual;å°äºæˆ–ç­‰äº <span class="hljs-keyword">value</span> çš„æœ€å¤§æ•´æ•°<br><span class="hljs-keyword">select</span> <span class="hljs-built_in">ln</span>(<span class="hljs-keyword">value</span>) <span class="hljs-keyword">from</span> dual;<span class="hljs-keyword">value</span> çš„è‡ªç„¶å¯¹æ•°<br><span class="hljs-keyword">select</span> <span class="hljs-built_in">log</span>(<span class="hljs-keyword">value</span>) <span class="hljs-keyword">from</span> dual;<span class="hljs-keyword">value</span> çš„ä»¥ <span class="hljs-number">10</span> ä¸ºåº•çš„å¯¹æ•°<br><span class="hljs-keyword">select</span> <span class="hljs-built_in">mod</span>(<span class="hljs-keyword">value</span>) <span class="hljs-keyword">from</span> dual;æ±‚æ¨¡<br><span class="hljs-keyword">select</span> <span class="hljs-built_in">power</span>(v,p) <span class="hljs-keyword">from</span> dual;vçš„pæ¬¡å¹‚<br><span class="hljs-keyword">select</span> round(v,p) <span class="hljs-keyword">from</span> dual;æŒ‰ <span class="hljs-keyword">precision</span> ç²¾åº¦<span class="hljs-number">4</span>èˆ<span class="hljs-number">5</span>å…¥<br><span class="hljs-keyword">select</span> <span class="hljs-built_in">sin</span>(<span class="hljs-keyword">value</span>) <span class="hljs-keyword">from</span> dual;<span class="hljs-keyword">value</span>çš„æ­£å¼¦<br><span class="hljs-keyword">select</span> <span class="hljs-built_in">sinh</span>(<span class="hljs-keyword">value</span>) <span class="hljs-keyword">from</span> dual;<span class="hljs-keyword">value</span>çš„åæ­£å¼¦<br><span class="hljs-keyword">select</span> sign(<span class="hljs-keyword">value</span>) <span class="hljs-keyword">from</span> dual;<span class="hljs-keyword">value</span> ä¸ºæ­£è¿”å› <span class="hljs-number">1</span>;ä¸ºè´Ÿè¿”å›<span class="hljs-number">-1</span>;ä¸º <span class="hljs-number">0</span> è¿”å› <span class="hljs-number">0.</span><br><span class="hljs-keyword">select</span> <span class="hljs-built_in">tan</span>(<span class="hljs-keyword">value</span>) <span class="hljs-keyword">from</span> dual;<span class="hljs-keyword">value</span>çš„æ­£åˆ‡<br><span class="hljs-keyword">select</span> <span class="hljs-built_in">tanh</span>(<span class="hljs-keyword">value</span>) <span class="hljs-keyword">from</span> dual;<span class="hljs-keyword">value</span>çš„åæ­£åˆ‡<br><span class="hljs-keyword">select</span> vsize(<span class="hljs-keyword">value</span>) <span class="hljs-keyword">from</span> dual;è¿”å›<span class="hljs-keyword">value</span>åœ¨ORACLEçš„å­˜å‚¨ç©ºé—´å¤§å°<br><span class="hljs-keyword">select</span> <span class="hljs-built_in">sqrt</span>(<span class="hljs-keyword">value</span>) <span class="hljs-keyword">from</span> dual;<span class="hljs-keyword">value</span>çš„å¹³æ–¹æ ¹<br></code></pre></td></tr></table></figure></div>

<h2 id="6ã€è¡¨ç©ºé—´å·¡æ£€"><a href="#6ã€è¡¨ç©ºé—´å·¡æ£€" class="headerlink" title="6ã€è¡¨ç©ºé—´å·¡æ£€"></a>6ã€è¡¨ç©ºé—´å·¡æ£€</h2><h4 id="æŸ¥è¯¢è§†å›¾dba-data-files"><a href="#æŸ¥è¯¢è§†å›¾dba-data-files" class="headerlink" title="æŸ¥è¯¢è§†å›¾dba_data_files"></a>æŸ¥è¯¢è§†å›¾dba_data_files</h4><div class="highlight-container" data-rel="Sql"><figure class="iseeu highlight sql"><table><tr><td class="code"><pre><code class="hljs sql">file_name:è¡¨ç©ºé—´æ•°æ®æ–‡ä»¶çš„ä½ç½®<br>file_id:æ•°æ®æ–‡ä»¶çš„ID<br>tablespace_nameï¼šè¡¨ç©ºé—´åç§°<br>bytes:è¡¨ç©ºé—´å¤§å° å­—èŠ‚æ˜¾ç¤º<br>blocks:è¡¨ç¤ºæ•°æ®å—æ•°é‡<br>status:è¡¨ç¤ºå½“å‰æ–‡ä»¶æ˜¯å¦å¯ç”¨<br>relative_fno:ç›¸å¯¹æ–‡ä»¶å·<br>autoextensible:æ˜¯å¦è‡ªåŠ¨æ‰©å±•<br>maxbytes:å¦‚æœæ‰©å±•ï¼Œæœ€å¤§æ‰©å±•çš„å¤§å°<br>maxblocksï¼šå¦‚æœæ‰©å±•ï¼Œæœ€å¤§çš„æ•°æ®å—æ•°<br>increment_byï¼šæœ€å¤§å¢åŠ çš„æ•°æ®å—æ•°<br>user_bytes:æ–‡ä»¶ä¸­å®é™…æœ‰ç”¨çš„å­—èŠ‚æ•°<br>user_blocks:æ–‡ä»¶ä¸­å®é™…æœ‰ç”¨çš„æ•°æ®å—æ•°<br><br><span class="hljs-keyword">select</span> file_name,tablespace_name,bytes<span class="hljs-operator">/</span><span class="hljs-number">1024</span><span class="hljs-operator">/</span><span class="hljs-number">1024</span> <span class="hljs-keyword">from</span> dba_data_files;<br><span class="hljs-keyword">select</span> file_name,tablespace_name,<span class="hljs-built_in">sum</span>(bytes)<span class="hljs-operator">/</span><span class="hljs-number">1024</span><span class="hljs-operator">/</span><span class="hljs-number">1024</span> <span class="hljs-keyword">from</span> dba_data_files <span class="hljs-keyword">group</span> <span class="hljs-keyword">by</span> file_name,tablespace_name;<br><br>#æŸ¥çœ‹è¡¨ç©ºé—´æ€»å®¹é‡å’Œå‰©ä½™å®¹é‡å’Œä½¿ç”¨é‡ã€‚<br><span class="hljs-keyword">select</span> df.tablespace_name,<span class="hljs-built_in">SUM</span>(df.bytes)<span class="hljs-operator">/</span><span class="hljs-number">1024</span><span class="hljs-operator">/</span><span class="hljs-number">1024</span> total,<span class="hljs-built_in">SUM</span>(fs.bytes)<span class="hljs-operator">/</span><span class="hljs-number">1024</span><span class="hljs-operator">/</span><span class="hljs-number">1024</span> <span class="hljs-keyword">free</span>,<span class="hljs-built_in">SUM</span>(df.bytes<span class="hljs-operator">-</span>fs.bytes)<span class="hljs-operator">/</span><span class="hljs-number">1024</span><span class="hljs-operator">/</span><span class="hljs-number">1024</span> used <span class="hljs-keyword">from</span> dba_data_files df,dba_free_space fs<br><span class="hljs-keyword">where</span> df.tablespace_name <span class="hljs-operator">=</span> fs.tablespace_name<br><span class="hljs-keyword">group</span> <span class="hljs-keyword">by</span> df.tablespace_name <span class="hljs-keyword">having</span> df.tablespace_name<span class="hljs-operator">=</span><span class="hljs-string">&#x27;WATERBOSS&#x27;</span>;<br><br></code></pre></td></tr></table></figure></div>

<h4 id="æŸ¥è¯¢è§†å›¾dba-free-space"><a href="#æŸ¥è¯¢è§†å›¾dba-free-space" class="headerlink" title="æŸ¥è¯¢è§†å›¾dba_free_space"></a>æŸ¥è¯¢è§†å›¾dba_free_space</h4><div class="highlight-container" data-rel="Sql"><figure class="iseeu highlight sql"><table><tr><td class="code"><pre><code class="hljs sql">tablespace_name:è¡¨ç©ºé—´åç§°<br>file_idï¼šè¡¨ç©ºé—´ID<br>block_id:å¼€å§‹å—çš„ID<br>bytes:è¡¨ç¤ºç©ºé—²çš„å­—èŠ‚æ•°<br>blocks:è¡¨ç¤ºç©ºé—²çš„æ•°æ®å—æ•°<br>relative_fno:ç›¸å¯¹æ–‡ä»¶çš„id<br>#æŸ¥çœ‹è¡¨ç©ºé—´æ€»å®¹é‡å’Œå‰©ä½™å®¹é‡å’Œä½¿ç”¨é‡ã€‚<br><span class="hljs-keyword">select</span> ds.tablespace_name,<span class="hljs-built_in">sum</span>(ds.bytes)<span class="hljs-operator">/</span><span class="hljs-number">1024</span><span class="hljs-operator">/</span><span class="hljs-number">1024</span> total,<span class="hljs-built_in">sum</span>(fs.bytes)<span class="hljs-operator">/</span><span class="hljs-number">1024</span><span class="hljs-operator">/</span><span class="hljs-number">1024</span> <span class="hljs-keyword">free</span>,<span class="hljs-built_in">sum</span>(ds.bytes)<span class="hljs-operator">/</span><span class="hljs-number">1024</span><span class="hljs-operator">/</span><span class="hljs-number">1024</span><span class="hljs-operator">-</span><span class="hljs-built_in">sum</span>(fs.bytes)<span class="hljs-operator">/</span><span class="hljs-number">1024</span><span class="hljs-operator">/</span><span class="hljs-number">1024</span> used <span class="hljs-keyword">from</span> dba_data_files ds,dba_free_space fs <span class="hljs-keyword">where</span> ds.tablespace_name<span class="hljs-operator">=</span>fs.tablespace_name <span class="hljs-keyword">group</span> <span class="hljs-keyword">by</span> ds.tablespace_name;<br></code></pre></td></tr></table></figure></div>

<h2 id="7ã€è§†å›¾"><a href="#7ã€è§†å›¾" class="headerlink" title="7ã€è§†å›¾"></a>7ã€è§†å›¾</h2><p>æ¦‚å¿µï¼šè§†å›¾æ˜¯ä¸€ç§æ•°æ®åº“å¯¹è±¡ï¼Œæ˜¯ä»ä¸€ä¸ªæˆ–è€…å¤šä¸ªæ•°æ®è¡¨æˆ–è§†å›¾ä¸­å¯¼å‡ºçš„è™šè¡¨ï¼Œè§†å›¾æ‰€å¯¹åº”çš„æ•°æ®å¹¶ä¸çœŸæ­£åœ°å­˜å‚¨åœ¨è§†å›¾ä¸­ï¼Œè€Œæ˜¯å­˜å‚¨åœ¨æ‰€å¼•ç”¨çš„æ•°æ®è¡¨ä¸­ï¼Œè§†å›¾çš„ç»“æ„å’Œæ•°æ®æ˜¯å¯¹æ•°æ®è¡¨è¿›è¡ŒæŸ¥è¯¢çš„ç»“æœã€‚</p>
<p>ä¼˜ç‚¹ï¼š</p>
<ul>
<li>ç®€åŒ–æ•°æ®æ“ä½œï¼šè§†å›¾å¯ä»¥ç®€åŒ–ç”¨æˆ·å¤„ç†æ•°æ®çš„æ–¹å¼ã€‚</li>
<li>ç€é‡äºç‰¹å®šæ•°æ®ï¼šä¸å¿…è¦çš„æ•°æ®æˆ–æ•æ„Ÿæ•°æ®å¯ä»¥ä¸å‡ºç°åœ¨è§†å›¾ä¸­ã€‚</li>
<li>è§†å›¾æä¾›äº†ä¸€ä¸ªç®€å•è€Œæœ‰æ•ˆçš„å®‰å…¨æœºåˆ¶ï¼Œå¯ä»¥å®šåˆ¶ä¸åŒç”¨æˆ·å¯¹æ•°æ®çš„è®¿é—®æƒé™ã€‚</li>
<li>æä¾›å‘åå…¼å®¹æ€§ï¼šè§†å›¾ä½¿ç”¨æˆ·èƒ½å¤Ÿåœ¨è¡¨çš„æ¶æ„æ›´æ”¹æ—¶ä¸ºè¡¨åˆ›å»ºå‘åå…¼å®¹æ¥å£ã€‚</li>
</ul>
<h4 id="åˆ›å»ºå’Œä¿®æ”¹è§†å›¾"><a href="#åˆ›å»ºå’Œä¿®æ”¹è§†å›¾" class="headerlink" title="åˆ›å»ºå’Œä¿®æ”¹è§†å›¾"></a>åˆ›å»ºå’Œä¿®æ”¹è§†å›¾</h4><div class="highlight-container" data-rel="Sql"><figure class="iseeu highlight sql"><table><tr><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">create</span> [<span class="hljs-keyword">or</span> replace] [force] <span class="hljs-keyword">view</span> view_name<br><span class="hljs-keyword">as</span> subquery<br>[<span class="hljs-keyword">with</span> <span class="hljs-keyword">check</span> option]<br>[<span class="hljs-keyword">with</span> read <span class="hljs-keyword">only</span>]<br><br>[<span class="hljs-keyword">or</span> replace]:è‹¥å·²ç»å­˜åœ¨è¯¥è§†å›¾ï¼Œoracleè‡ªåŠ¨é‡æ„è¯¥è§†å›¾<br>[force]:ä¸ç®¡åŸºè¡¨æ˜¯å¦å­˜åœ¨ï¼Œoracleéƒ½ä¼šè‡ªåŠ¨åˆ›å»ºè¯¥è§†å›¾<br>suquery:å­æŸ¥è¯¢<br>[<span class="hljs-keyword">with</span> <span class="hljs-keyword">check</span> option]:æ’å…¥å’Œä¿®æ”¹çš„æ•°æ®è¡Œå¿…é¡»æ»¡è¶³å®šä¹‰è§†å›¾çš„çº¦æŸ<br>[<span class="hljs-keyword">with</span> read <span class="hljs-keyword">only</span>]:è¯¥è§†å›¾ä¸Šä¸èƒ½è¿›è¡Œä»»ä½• DML æ“ä½œã€‚<br><br>#<span class="hljs-keyword">create</span> <span class="hljs-keyword">view</span> dba_data_files_v1 <span class="hljs-keyword">as</span> <span class="hljs-keyword">select</span> file_name,tablespace_name, <span class="hljs-keyword">from</span> dba_data_files;<br><span class="hljs-keyword">create</span> [<span class="hljs-keyword">or</span> replace] <span class="hljs-keyword">view</span> t_account_v1 <span class="hljs-keyword">as</span> <span class="hljs-keyword">select</span> id,ownerid,ownertypeid,areaid <span class="hljs-keyword">from</span> t_account;<br><span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> t_account_v1;<br>#ç®€å•è§†å›¾ï¼Œå¯ä»¥è¿›è¡Œå¢åˆ æ”¹æŸ¥è®°å½•<br>#<span class="hljs-keyword">update</span> view_name <span class="hljs-keyword">set</span> <span class="hljs-keyword">column</span><span class="hljs-operator">=</span>æ–°å€¼ <span class="hljs-keyword">where</span> æ¡ä»¶<br><span class="hljs-keyword">update</span> t_account_v1 <span class="hljs-keyword">set</span> areaid<span class="hljs-operator">=</span><span class="hljs-number">1002</span> <span class="hljs-keyword">where</span> id<span class="hljs-operator">=</span><span class="hljs-number">5</span>;<br><span class="hljs-keyword">commit</span>;<br><span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> t_account_v1;<br></code></pre></td></tr></table></figure></div>

<p>è§†å›¾å…¶å®æ˜¯ä¸€ä¸ªè™šæ‹Ÿçš„è¡¨ï¼Œå®ƒçš„æ•°æ®å…¶å®æ¥è‡ªäºè¡¨ã€‚å¦‚æœæ›´æ”¹äº†è§†å›¾çš„æ•°æ®ï¼Œè¡¨çš„æ•°æ®ä¹Ÿè‡ªç„¶ä¼šå˜åŒ–ï¼Œæ›´æ”¹äº†<br>è¡¨çš„æ•°æ®ï¼Œè§†å›¾ä¹Ÿè‡ªç„¶ä¼šå˜åŒ–ã€‚</p>
<h4 id="åˆ é™¤è§†å›¾"><a href="#åˆ é™¤è§†å›¾" class="headerlink" title="åˆ é™¤è§†å›¾"></a>åˆ é™¤è§†å›¾</h4><div class="highlight-container" data-rel="Sql"><figure class="iseeu highlight sql"><table><tr><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">drop</span> <span class="hljs-keyword">view</span> view_name;<br></code></pre></td></tr></table></figure></div>

<h4 id="å¸¦æ£€æŸ¥çº¦æŸçš„è§†å›¾"><a href="#å¸¦æ£€æŸ¥çº¦æŸçš„è§†å›¾" class="headerlink" title="å¸¦æ£€æŸ¥çº¦æŸçš„è§†å›¾"></a>å¸¦æ£€æŸ¥çº¦æŸçš„è§†å›¾</h4><div class="highlight-container" data-rel="Sql"><figure class="iseeu highlight sql"><table><tr><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">create</span> <span class="hljs-keyword">or</span> replace <span class="hljs-keyword">view</span> t_account_v2 <br><span class="hljs-keyword">as</span><br><span class="hljs-keyword">select</span> id,ownerid,ownertypeid,areaid <span class="hljs-keyword">from</span> t_account <span class="hljs-keyword">where</span> areaid<span class="hljs-operator">=</span><span class="hljs-number">1001</span><br><span class="hljs-keyword">with</span> <span class="hljs-keyword">check</span> option;<br><br>#<span class="hljs-keyword">update</span> t_account_v2 <span class="hljs-keyword">set</span> areaid<span class="hljs-operator">=</span><span class="hljs-number">1002</span> <span class="hljs-keyword">where</span> id<span class="hljs-operator">=</span><span class="hljs-number">1</span>;<br>#ä¼šæŠ¥é”™<span class="hljs-keyword">view</span> <span class="hljs-keyword">WITH</span> <span class="hljs-keyword">CHECK</span> OPTION <span class="hljs-keyword">where</span><span class="hljs-operator">-</span>clause violation<br></code></pre></td></tr></table></figure></div>

<h4 id="åªè¯»è§†å›¾çš„åˆ›å»ºä¸ä½¿ç”¨"><a href="#åªè¯»è§†å›¾çš„åˆ›å»ºä¸ä½¿ç”¨" class="headerlink" title="åªè¯»è§†å›¾çš„åˆ›å»ºä¸ä½¿ç”¨"></a>åªè¯»è§†å›¾çš„åˆ›å»ºä¸ä½¿ç”¨</h4><p>æŒ‡å®š WITH READ ONLY é€‰é¡¹ï¼Œè¿™æ ·åˆ›å»ºçš„è§†å›¾å°±æ˜¯ä¸€ä¸ªåªè¯»è§†å›¾</p>
<div class="highlight-container" data-rel="Sql"><figure class="iseeu highlight sql"><table><tr><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">create</span> <span class="hljs-keyword">or</span> replace <span class="hljs-keyword">view</span> t_account_v2<br><span class="hljs-keyword">as</span><br><span class="hljs-keyword">select</span> id,ownerid,ownertypeid,areaid <span class="hljs-keyword">from</span> t_account <span class="hljs-keyword">where</span> areaid<span class="hljs-operator">=</span><span class="hljs-number">1001</span><br><span class="hljs-keyword">with</span> read <span class="hljs-keyword">only</span>;<br><span class="hljs-keyword">update</span> t_account_v2 <span class="hljs-keyword">set</span> areaid<span class="hljs-operator">=</span><span class="hljs-number">1002</span> <span class="hljs-keyword">where</span> id<span class="hljs-operator">=</span><span class="hljs-number">1</span>;<br>#ä¿®æ”¹åªè¯»è§†å›¾å‡ºç°ï¼šcannot perform a DML operation <span class="hljs-keyword">on</span> a read<span class="hljs-operator">-</span><span class="hljs-keyword">only</span> <span class="hljs-keyword">view</span><br></code></pre></td></tr></table></figure></div>

<h4 id="åˆ›å»ºä¸å­˜åœ¨åŸºè¡¨çš„è§†å›¾"><a href="#åˆ›å»ºä¸å­˜åœ¨åŸºè¡¨çš„è§†å›¾" class="headerlink" title="åˆ›å»ºä¸å­˜åœ¨åŸºè¡¨çš„è§†å›¾"></a>åˆ›å»ºä¸å­˜åœ¨åŸºè¡¨çš„è§†å›¾</h4><p>æœ‰çš„æ—¶å€™ï¼Œåˆ›å»ºè§†å›¾æ—¶çš„è¡¨å¯èƒ½å¹¶ä¸å­˜åœ¨ï¼Œä½†æ˜¯ä»¥åå¯èƒ½ä¼šå­˜åœ¨ï¼Œæ­¤æ—¶éœ€è¦åˆ›å»ºè¿™æ ·çš„è§†å›¾ï¼Œéœ€è¦æ·»åŠ  FORCE é€‰é¡¹</p>
<div class="highlight-container" data-rel="Sql"><figure class="iseeu highlight sql"><table><tr><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">create</span> <span class="hljs-keyword">or</span> replace force <span class="hljs-keyword">view</span> t_temp_vi <br><span class="hljs-keyword">as</span><br><span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> t_temp;<br></code></pre></td></tr></table></figure></div>

<h4 id="æŸ¥è¯¢æ‰€æœ‰çš„è§†å›¾"><a href="#æŸ¥è¯¢æ‰€æœ‰çš„è§†å›¾" class="headerlink" title="æŸ¥è¯¢æ‰€æœ‰çš„è§†å›¾"></a>æŸ¥è¯¢æ‰€æœ‰çš„è§†å›¾</h4><div class="highlight-container" data-rel="Sql"><figure class="iseeu highlight sql"><table><tr><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> user_views;<br></code></pre></td></tr></table></figure></div>

<h4 id="å¤æ‚è§†å›¾çš„åˆ›å»ºä¸ä½¿ç”¨"><a href="#å¤æ‚è§†å›¾çš„åˆ›å»ºä¸ä½¿ç”¨" class="headerlink" title="å¤æ‚è§†å›¾çš„åˆ›å»ºä¸ä½¿ç”¨"></a>å¤æ‚è§†å›¾çš„åˆ›å»ºä¸ä½¿ç”¨</h4><p>å¤æ‚è§†å›¾ï¼Œå°±æ˜¯è§†å›¾çš„ SQL è¯­å¥ä¸­ï¼Œæœ‰èšåˆå‡½æ•°æˆ–å¤šè¡¨å…³è”æŸ¥è¯¢ã€‚</p>
<div class="highlight-container" data-rel="Sql"><figure class="iseeu highlight sql"><table><tr><td class="code"><pre><code class="hljs sql">#<span class="hljs-number">1</span>ã€å¤šè¡¨å…³è”æŸ¥è¯¢çš„è§†å›¾<br><span class="hljs-keyword">create</span> <span class="hljs-keyword">or</span> replace force <span class="hljs-keyword">view</span> twn_tt_v1<br><span class="hljs-keyword">as</span><br><span class="hljs-keyword">select</span> twn.<span class="hljs-operator">*</span>,tt.name <span class="hljs-keyword">as</span> ownertypename <span class="hljs-keyword">from</span> t_owners twn,t_ownertype tt <span class="hljs-keyword">where</span> twn.ownertypeid<span class="hljs-operator">=</span>tt.id(<span class="hljs-operator">+</span>)<br><span class="hljs-keyword">with</span> <span class="hljs-keyword">check</span> option;<br><span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> twn_tt_v1;<br><span class="hljs-keyword">update</span> twn_tt_v1 <span class="hljs-keyword">set</span> name<span class="hljs-operator">=</span><span class="hljs-string">&#x27;suhe&#x27;</span> <span class="hljs-keyword">where</span> id<span class="hljs-operator">=</span><span class="hljs-number">1002</span>;<br>#å¯ä»¥ä¿®æ”¹ä¸»è¡¨çš„æ•°æ®ä¸å¯ä»¥ä¿®æ”¹å…³è”è¡¨çš„æ•°æ®<br>#<span class="hljs-number">2</span>ã€åˆ†ç»„èšåˆç»Ÿè®¡æŸ¥è¯¢çš„è§†å›¾<br><span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> t_account;<br><span class="hljs-keyword">create</span> <span class="hljs-keyword">or</span> replace force <span class="hljs-keyword">view</span> month_per_num_2023<br><span class="hljs-keyword">as</span><br><span class="hljs-keyword">select</span> <span class="hljs-keyword">year</span>,<span class="hljs-keyword">month</span>,<span class="hljs-built_in">sum</span>(usenum) sumuse <span class="hljs-keyword">from</span> t_account <span class="hljs-keyword">group</span> <span class="hljs-keyword">by</span> <span class="hljs-keyword">year</span>,<span class="hljs-keyword">month</span> <span class="hljs-keyword">group</span> <span class="hljs-keyword">by</span> <span class="hljs-keyword">year</span>,<span class="hljs-keyword">month</span>;<br><span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> month_per_num_2023;<br></code></pre></td></tr></table></figure></div>

<h4 id="ç‰©åŒ–è§†å›¾"><a href="#ç‰©åŒ–è§†å›¾" class="headerlink" title="ç‰©åŒ–è§†å›¾"></a>ç‰©åŒ–è§†å›¾</h4><p>â€‹	è§†å›¾æ˜¯ä¸€ä¸ªè™šæ‹Ÿè¡¨ï¼ˆä¹Ÿå¯ä»¥è®¤ä¸ºæ˜¯ä¸€æ¡è¯­å¥ï¼‰ï¼ŒåŸºäºå®ƒåˆ›å»ºæ—¶æŒ‡å®šçš„æŸ¥è¯¢è¯­å¥è¿”å›çš„ç»“æœé›†ã€‚æ¯æ¬¡è®¿é—®å®ƒéƒ½ä¼šå¯¼è‡´è¿™ä¸ªæŸ¥è¯¢è¯­å¥è¢«æ‰§è¡Œä¸€æ¬¡ã€‚ä¸ºäº†é¿å…æ¯æ¬¡è®¿é—®éƒ½æ‰§è¡Œè¿™ä¸ªæŸ¥è¯¢ï¼Œå¯ä»¥å°†è¿™ä¸ªæŸ¥è¯¢ç»“æœé›†å­˜å‚¨åˆ°ä¸€ä¸ªç‰©åŒ–è§†å›¾ï¼ˆä¹Ÿå«å®ä½“åŒ–è§†å›¾ï¼‰ã€‚ç‰©åŒ–è§†å›¾ä¸æ™®é€šçš„è§†å›¾ç›¸æ¯”çš„åŒºåˆ«æ˜¯ç‰©åŒ–è§†å›¾æ˜¯å»ºç«‹çš„å‰¯æœ¬ï¼Œå®ƒç±»ä¼¼äºä¸€å¼ è¡¨ï¼Œéœ€è¦å ç”¨å­˜å‚¨ç©ºé—´ã€‚è€Œå¯¹ä¸€ä¸ªç‰©åŒ–è§†å›¾æŸ¥è¯¢çš„æ‰§è¡Œæ•ˆç‡ä¸æŸ¥è¯¢ä¸€ä¸ªè¡¨æ˜¯ä¸€æ ·çš„ã€‚</p>
<ul>
<li>åˆ›å»ºç‰©åŒ–è§†å›¾è¯­æ³•</li>
</ul>
<div class="highlight-container" data-rel="Sql"><figure class="iseeu highlight sql"><table><tr><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">create</span> meterialized <span class="hljs-keyword">view</span> view_name<br>[build immediate <span class="hljs-operator">|</span> build deferred]<br>refresh [fast <span class="hljs-operator">|</span> complete <span class="hljs-operator">|</span> force]<br>[<br> <span class="hljs-keyword">on</span> [<span class="hljs-keyword">commit</span> <span class="hljs-operator">|</span> demand]    <span class="hljs-operator">|</span> <span class="hljs-keyword">start</span> <span class="hljs-keyword">with</span> (start_time) next (next_time)<br>]<br><span class="hljs-keyword">as</span><br>subquery<br><br>build immediate:æ˜¯åœ¨åˆ›å»ºç‰©åŒ–è§†å›¾çš„æ—¶å€™å°±ç”Ÿæˆæ•°æ®ã€‚<br>build dererred:åˆ™åœ¨åˆ›å»ºæ—¶ä¸ç”Ÿæˆæ•°æ®ï¼Œä»¥åæ ¹æ®éœ€è¦å†ç”Ÿæˆæ•°æ®ã€‚é»˜è®¤ä¸º build immediateã€‚<br>refresh:æŒ‡å½“åŸºè¡¨å‘ç”Ÿäº† DML æ“ä½œåï¼Œç‰©åŒ–è§†å›¾ä½•æ—¶é‡‡ç”¨å“ªç§æ–¹å¼å’ŒåŸºè¡¨è¿›è¡ŒåŒæ­¥ã€‚[fast <span class="hljs-operator">|</span> complete<span class="hljs-operator">|</span>force] fasté‡‡ç”¨å¢é‡åˆ·æ–°ï¼Œåªåˆ·æ–°è‡ªä¸Šæ¬¡åˆ·æ–°ä»¥åè¿›è¡Œçš„ä¿®æ”¹ã€‚completeåˆ·æ–°å¯¹æ•´ä¸ªç‰©åŒ–è§†å›¾è¿›è¡Œå®Œå…¨çš„åˆ·æ–°ã€‚forceæ–¹å¼ï¼Œåˆ™ Oracle åœ¨åˆ·æ–°æ—¶ä¼šå»åˆ¤æ–­æ˜¯å¦å¯ä»¥è¿›è¡Œå¿«é€Ÿåˆ·æ–°ï¼Œå¦‚æœå¯ä»¥åˆ™é‡‡ç”¨ fast æ–¹å¼ï¼Œå¦åˆ™é‡‡ç”¨ completeçš„æ–¹å¼ï¼Œforce æ˜¯é»˜è®¤çš„æ–¹å¼ã€‚<br>åˆ·æ–°æ¨¡å¼ï¼š<span class="hljs-keyword">on</span> <span class="hljs-keyword">commit</span>å’Œ<span class="hljs-keyword">on</span> demandä¸¤ç§ï¼Œ <span class="hljs-keyword">on</span> demandæŒ‡éœ€è¦æ‰‹åŠ¨åˆ·æ–°ç‰©åŒ–è§†å›¾ï¼ˆé»˜è®¤ï¼‰ã€‚<span class="hljs-keyword">on</span> <span class="hljs-keyword">commit</span>æŒ‡åœ¨åŸºè¡¨å‘ç”Ÿ<span class="hljs-keyword">commit</span>æ“ä½œæ—¶è‡ªåŠ¨åˆ·æ–°.<br><br></code></pre></td></tr></table></figure></div>

<ul>
<li>åˆ›å»ºæ‰‹åŠ¨åˆ·æ–°çš„ç‰©åŒ–è§†å›¾</li>
</ul>
<div class="highlight-container" data-rel="Sql"><figure class="iseeu highlight sql"><table><tr><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">create</span> meterialized <span class="hljs-keyword">view</span> mv_v1<br>[build immediate<br>refresh force <span class="hljs-keyword">on</span> demand]<br><span class="hljs-keyword">as</span> <br><span class="hljs-keyword">select</span> twn.<span class="hljs-operator">*</span>,ta.name <span class="hljs-keyword">as</span> addressname <span class="hljs-keyword">from</span> t_owners twn,t_address ta <span class="hljs-keyword">where</span> twn.addressid<span class="hljs-operator">=</span>ta.id(<span class="hljs-operator">+</span>);<br><br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> t_owners <span class="hljs-keyword">VALUES</span> (<span class="hljs-number">1004</span>,<span class="hljs-string">&#x27;lili&#x27;</span>,<span class="hljs-number">1003</span>,<span class="hljs-string">&#x27;6-1&#x27;</span>,<span class="hljs-string">&#x27;7895&#x27;</span>,sysdate,<span class="hljs-number">1002</span>);<br><span class="hljs-keyword">commit</span>;<br><span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> mv_v2;<br>#ç‰©åŒ–è§†å›¾ä¸­æ²¡æœ‰æ–°æ’å…¥çš„æ•°æ®ã€‚<br>#PL<span class="hljs-operator">/</span><span class="hljs-keyword">SQL</span>æ‰§è¡Œ<br><span class="hljs-keyword">begin</span><br>DBMS_MVIEW.refresh(<span class="hljs-string">&#x27;mv_v2&#x27;</span>,<span class="hljs-string">&#x27;C&#x27;</span>);<br><span class="hljs-keyword">end</span>;<br>#æˆ–è€…åœ¨å‘½ä»¤è¡Œæ‰§è¡Œ<br><span class="hljs-keyword">EXEC</span> DBMS_MVIEW.refresh(<span class="hljs-string">&#x27;mv_v2&#x27;</span>,<span class="hljs-string">&#x27;C&#x27;</span>);<br>#DBMS_MVIEW.refresh å®é™…ä¸Šæ˜¯ç³»ç»Ÿå†…ç½®çš„å­˜å‚¨è¿‡ç¨‹<br></code></pre></td></tr></table></figure></div>

<ul>
<li>åˆ›å»ºè‡ªåŠ¨åˆ·æ–°çš„ç‰©åŒ–è§†å›¾</li>
</ul>
<div class="highlight-container" data-rel="Sql"><figure class="iseeu highlight sql"><table><tr><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">create</span> materialized <span class="hljs-keyword">view</span> mv_v3<br>build immediate<br>refresh force<br><span class="hljs-keyword">on</span> <span class="hljs-keyword">commit</span><br><span class="hljs-keyword">as</span><br><span class="hljs-keyword">select</span> twn.<span class="hljs-operator">*</span>,ta.name <span class="hljs-keyword">as</span> addressname <span class="hljs-keyword">from</span> t_owners twn,t_address ta <span class="hljs-keyword">where</span> twn.addressid<span class="hljs-operator">=</span>ta.id(<span class="hljs-operator">+</span>);<br><br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> t_owners <span class="hljs-keyword">VALUES</span> (<span class="hljs-number">1005</span>,<span class="hljs-string">&#x27;longlong&#x27;</span>,<span class="hljs-number">1002</span>,<span class="hljs-string">&#x27;6-2&#x27;</span>,<span class="hljs-string">&#x27;1234&#x27;</span>,sysdate,<span class="hljs-number">1001</span>);<br><span class="hljs-keyword">commit</span>;<br><span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> mv_v3;<br></code></pre></td></tr></table></figure></div>

<ul>
<li>åˆ›å»ºæ—¶ä¸ç”Ÿæˆæ•°æ®çš„ç‰©åŒ–è§†å›¾</li>
</ul>
<div class="highlight-container" data-rel="Sql"><figure class="iseeu highlight sql"><table><tr><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">create</span> materailized <span class="hljs-keyword">view</span> mv_v4<br>build deferred<br>refresh force <span class="hljs-keyword">on</span> <span class="hljs-keyword">commit</span><br><span class="hljs-keyword">as</span><br><span class="hljs-keyword">select</span> twn.<span class="hljs-operator">*</span>,ta.name <span class="hljs-keyword">as</span> addressname <span class="hljs-keyword">from</span> t_owners twn,t_address ta <span class="hljs-keyword">where</span> twn.addressid<span class="hljs-operator">=</span>ta.id(<span class="hljs-operator">+</span>);<br><span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> mv_v4;<br><br><span class="hljs-keyword">begin</span><br>DBMS_MVIEW.refresh(<span class="hljs-string">&#x27;mv_v4&#x27;</span>,<span class="hljs-string">&#x27;C&#x27;</span>);<br><span class="hljs-keyword">end</span>;<br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> t_owners <span class="hljs-keyword">VALUES</span> (<span class="hljs-number">1006</span>,<span class="hljs-string">&#x27;chuan&#x27;</span>,<span class="hljs-number">1001</span>,<span class="hljs-string">&#x27;7-2&#x27;</span>,<span class="hljs-string">&#x27;7534&#x27;</span>,sysdate,<span class="hljs-number">1003</span>);<br><span class="hljs-keyword">commit</span>;<br><span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> mv_v4;<br></code></pre></td></tr></table></figure></div>

<ul>
<li>åˆ é™¤ç‰©åŒ–è§†å›¾</li>
</ul>
<figure class="highlight n1ql"><table><tr><td class="code"><pre><code class="hljs n1ql"><span class="hljs-keyword">drop</span> <span class="hljs-keyword">materialized</span> <span class="hljs-keyword">view</span> view_name;<br></code></pre></td></tr></table></figure>

<ul>
<li>åˆ›å»ºå¢é‡åˆ·æ–°çš„ç‰©åŒ–è§†å›¾</li>
</ul>
<p>å¦‚æœåˆ›å»ºå¢é‡åˆ·æ–°çš„ç‰©åŒ–è§†å›¾ï¼Œå¿…é¡»é¦–å…ˆåˆ›å»ºç‰©åŒ–è§†å›¾æ—¥å¿—</p>
<div class="highlight-container" data-rel="Sql"><figure class="iseeu highlight sql"><table><tr><td class="code"><pre><code class="hljs sql">#åˆ›å»ºç‰©åŒ–è§†å›¾æ—¥å¿—<br><span class="hljs-keyword">create</span> materialized <span class="hljs-keyword">view</span> log <span class="hljs-keyword">on</span> t_owners <span class="hljs-keyword">with</span> rowid;<br><span class="hljs-keyword">create</span> materialized <span class="hljs-keyword">view</span> log <span class="hljs-keyword">on</span> t_address <span class="hljs-keyword">with</span> rowid;<br><br><span class="hljs-keyword">create</span> materialized <span class="hljs-keyword">view</span> mv_v5<br>build immediate<br>refresh fast<br><span class="hljs-keyword">on</span> <span class="hljs-keyword">commit</span><br><span class="hljs-keyword">as</span><br><span class="hljs-keyword">select</span> twn.<span class="hljs-operator">*</span>,twn.rowid <span class="hljs-keyword">as</span> twnrowid,ta.rowid <span class="hljs-keyword">as</span> tarowid,ta.name <span class="hljs-keyword">as</span> addressname <span class="hljs-keyword">from</span> t_owners twn,t_address ta <span class="hljs-keyword">where</span> twn.addressid<span class="hljs-operator">=</span>ta.id(<span class="hljs-operator">+</span>);<br><br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> t_owners <span class="hljs-keyword">VALUES</span> (<span class="hljs-number">1007</span>,<span class="hljs-string">&#x27;su&#x27;</span>,<span class="hljs-number">1002</span>,<span class="hljs-string">&#x27;8-2&#x27;</span>,<span class="hljs-string">&#x27;3455&#x27;</span>,sysdate,<span class="hljs-number">1002</span>);<br><span class="hljs-keyword">commit</span>;<br>#åˆ›å»ºå¢é‡åˆ·æ–°çš„ç‰©åŒ–è§†å›¾ï¼Œå¿…é¡»ï¼š<br>#<span class="hljs-number">1</span>ã€åˆ›å»ºç‰©åŒ–è§†å›¾ä¸­æ¶‰åŠè¡¨çš„ç‰©åŒ–è§†å›¾æ—¥å¿—ã€‚<br>#<span class="hljs-number">2</span>ã€åœ¨æŸ¥è¯¢è¯­å¥ä¸­ï¼Œå¿…é¡»åŒ…å«æ‰€æœ‰è¡¨çš„rowid(ä»¥rowidæ–¹å¼å»ºç«‹ç‰©åŒ–è§†å›¾æ—¥å¿—)<br></code></pre></td></tr></table></figure></div>

<h2 id="8ã€åºåˆ—"><a href="#8ã€åºåˆ—" class="headerlink" title="8ã€åºåˆ—"></a>8ã€åºåˆ—</h2><p>åºåˆ—æ˜¯ ORACLE æä¾›çš„ç”¨äºäº§ç”Ÿä¸€ç³»åˆ—å”¯ä¸€æ•°å­—çš„æ•°æ®åº“å¯¹è±¡ã€‚</p>
<h4 id="åˆ›å»ºåºåˆ—è¯­æ³•"><a href="#åˆ›å»ºåºåˆ—è¯­æ³•" class="headerlink" title="åˆ›å»ºåºåˆ—è¯­æ³•"></a>åˆ›å»ºåºåˆ—è¯­æ³•</h4><div class="highlight-container" data-rel="Sql"><figure class="iseeu highlight sql"><table><tr><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">create</span> sequence sequence_name;<br></code></pre></td></tr></table></figure></div>

<p>é€šè¿‡åºåˆ—çš„ä¼ªåˆ—æ¥è®¿é—®åºåˆ—çš„å€¼,NEXTVAL è¿”å›åºåˆ—çš„ä¸‹ä¸€ä¸ªå€¼,CURRVAL è¿”å›åºåˆ—çš„å½“å‰å€¼</p>
<blockquote>
<p>æ³¨æ„ï¼šæˆ‘ä»¬åœ¨åˆšå»ºç«‹åºåˆ—åï¼Œæ— æ³•æå–å½“å‰å€¼ï¼Œåªæœ‰å…ˆæå–ä¸‹ä¸€ä¸ªå€¼æ—¶æ‰èƒ½å†æ¬¡æå–å½“å‰å€¼ã€‚</p>
</blockquote>
<div class="highlight-container" data-rel="Sql"><figure class="iseeu highlight sql"><table><tr><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">create</span> sequence sequence_one;<br><span class="hljs-keyword">select</span> sequence_one.nextval <span class="hljs-keyword">from</span> dual;<br><span class="hljs-keyword">select</span> sequence_one.currval <span class="hljs-keyword">from</span> dual;<br></code></pre></td></tr></table></figure></div>

<h4 id="åˆ›å»ºå¤æ‚åºåˆ—"><a href="#åˆ›å»ºå¤æ‚åºåˆ—" class="headerlink" title="åˆ›å»ºå¤æ‚åºåˆ—"></a>åˆ›å»ºå¤æ‚åºåˆ—</h4><ul>
<li>è¯­æ³•ï¼š</li>
</ul>
<div class="highlight-container" data-rel="Sql"><figure class="iseeu highlight sql"><table><tr><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">create</span> sequence sequence_one<br>[increment <span class="hljs-keyword">by</span> n] #é€’å¢çš„åºåˆ—å€¼æ˜¯n å¦‚æœnæ˜¯æ­£æ•°å°±é€’å¢,å¦‚æœæ˜¯è´Ÿæ•°å°±é€’å‡ é»˜è®¤æ˜¯<span class="hljs-number">1</span><br>[<span class="hljs-keyword">start</span> <span class="hljs-keyword">with</span> n] #å¼€å§‹çš„å€¼,é€’å¢é»˜è®¤æ˜¯ minvalue é€’å‡æ˜¯ maxvalue<br>[&#123;maxvalue n<span class="hljs-operator">|</span>nomaxvalue&#125;] #æœ€å¤§å€¼<br>[&#123;minvalue n<span class="hljs-operator">|</span>nominvalue&#125;]#æœ€å°å€¼<br>[&#123;<span class="hljs-keyword">cycle</span> <span class="hljs-operator">|</span> nocycle&#125;] #å¾ªç¯<br>[&#123;cache n <span class="hljs-operator">|</span> nocache&#125;] #åˆ†é…å¹¶å­˜å…¥åˆ°å†…å­˜ä¸­<br></code></pre></td></tr></table></figure></div>

<ul>
<li>åˆ›å»ºæœ‰æœ€å¤§å€¼çš„éå¾ªç¯åºåˆ—</li>
</ul>
<div class="highlight-container" data-rel="Sql"><figure class="iseeu highlight sql"><table><tr><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">create</span> sequence seq_1<br>increment <span class="hljs-keyword">by</span> <span class="hljs-number">20</span><br>maxvalue <span class="hljs-number">100</span><br>minvalue <span class="hljs-number">20</span><br>nocycle;<br><span class="hljs-keyword">select</span> seq_1.nextval <span class="hljs-keyword">from</span> dual;<br></code></pre></td></tr></table></figure></div>

<ul>
<li>æœ‰æœ€å¤§å€¼çš„å¾ªç¯åºåˆ—</li>
</ul>
<div class="highlight-container" data-rel="Sql"><figure class="iseeu highlight sql"><table><tr><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">create</span> sequence seq_2<br>increment <span class="hljs-keyword">by</span> <span class="hljs-number">20</span><br>maxvalue <span class="hljs-number">100</span><br>minvalue <span class="hljs-number">20</span><br><span class="hljs-keyword">cycle</span><br>cache <span class="hljs-number">4</span>;<br></code></pre></td></tr></table></figure></div>

<blockquote>
<p>æ³¨æ„ï¼šCACHE &lt;&#x3D; CEIL((MAXVALUE - MINVALUE) &#x2F; ABS(INCREMENT))<br>ä¾‹å¦‚ï¼šcache &lt;&#x3D;ceil(100-20)&#x2F;abs(20)</p>
</blockquote>
<h4 id="ä¿®æ”¹å’Œåˆ é™¤åºåˆ—"><a href="#ä¿®æ”¹å’Œåˆ é™¤åºåˆ—" class="headerlink" title="ä¿®æ”¹å’Œåˆ é™¤åºåˆ—"></a>ä¿®æ”¹å’Œåˆ é™¤åºåˆ—</h4><p>ä¿®æ”¹åºåˆ—ï¼šä½¿ç”¨ ALTER SEQUENCE è¯­å¥ä¿®æ”¹åºåˆ—ï¼Œä¸èƒ½æ›´æ”¹åºåˆ—çš„ STARTWITH å‚æ•°</p>
<div class="highlight-container" data-rel="Sql"><figure class="iseeu highlight sql"><table><tr><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">ALTER</span> SEQUENCE åºåˆ—åç§° MAXVALUE <span class="hljs-number">5000</span> <span class="hljs-keyword">CYCLE</span>;<br><span class="hljs-keyword">alter</span> sequence seq_1 maxvalue <span class="hljs-number">300</span> <span class="hljs-keyword">cycle</span> cache <span class="hljs-number">14</span>;<br></code></pre></td></tr></table></figure></div>

<p>åˆ é™¤åºåˆ—</p>
<div class="highlight-container" data-rel="Sql"><figure class="iseeu highlight sql"><table><tr><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">DROP</span> SEQUENCE åºåˆ—åç§°;<br><span class="hljs-keyword">drop</span> sequence seq_1;<br></code></pre></td></tr></table></figure></div>

<h2 id="9ã€åŒä¹‰è¯"><a href="#9ã€åŒä¹‰è¯" class="headerlink" title="9ã€åŒä¹‰è¯"></a>9ã€åŒä¹‰è¯</h2><p>â€‹	åŒä¹‰è¯å®è´¨ä¸Šæ˜¯æŒ‡å®šæ–¹æ¡ˆå¯¹è±¡çš„ä¸€ä¸ªåˆ«åã€‚é€šè¿‡å±è”½å¯¹è±¡çš„åç§°å’Œæ‰€æœ‰è€…ä»¥åŠå¯¹åˆ†å¸ƒå¼æ•°æ®åº“çš„è¿œç¨‹å¯¹è±¡æä¾›ä½ç½®é€æ˜æ€§ï¼ŒåŒä¹‰è¯å¯ä»¥æä¾›ä¸€å®šç¨‹åº¦çš„å®‰å…¨æ€§ã€‚åŒæ—¶ï¼ŒåŒä¹‰è¯çš„æ˜“ç”¨æ€§è¾ƒå¥½ï¼Œé™ä½äº†æ•°æ®åº“ç”¨æˆ·çš„ SQL è¯­å¥å¤æ‚åº¦ã€‚</p>
<p>â€‹	åŒä¹‰è¯å…è®¸åŸºå¯¹è±¡é‡å‘½åæˆ–è€…ç§»åŠ¨ï¼Œè¿™æ—¶ï¼Œåªéœ€å¯¹åŒä¹‰è¯è¿›è¡Œé‡å®šä¹‰ï¼ŒåŸºäºåŒä¹‰è¯çš„åº”ç”¨ç¨‹åºå¯ä»¥ç»§ç»­è¿è¡Œè€Œæ— éœ€ä¿®æ”¹ã€‚</p>
<p>â€‹	åŒä¹‰è¯æœ¬èº«ä¸æ¶‰åŠå®‰å…¨ï¼Œå½“ä½ èµ‹äºˆä¸€ä¸ªåŒä¹‰è¯å¯¹è±¡æƒé™æ—¶ï¼Œä½ å®è´¨ä¸Šæ˜¯åœ¨ç»™åŒä¹‰è¯çš„åŸºå¯¹è±¡èµ‹äºˆæƒé™ï¼ŒåŒä¹‰è¯åªæ˜¯åŸºå¯¹è±¡çš„ä¸€ä¸ªåˆ«åã€‚</p>
<h4 id="åˆ›å»ºä¸ä½¿ç”¨åŒä¹‰è¯"><a href="#åˆ›å»ºä¸ä½¿ç”¨åŒä¹‰è¯" class="headerlink" title="åˆ›å»ºä¸ä½¿ç”¨åŒä¹‰è¯"></a>åˆ›å»ºä¸ä½¿ç”¨åŒä¹‰è¯</h4><div class="highlight-container" data-rel="Sql"><figure class="iseeu highlight sql"><table><tr><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">create</span> [public] SYNONYM synonym <span class="hljs-keyword">for</span> object<br>synonym:åˆ›å»ºçš„åŒä¹‰è¯çš„åç§°<br>object:è¡¨ç¤ºè¡¨ï¼Œè§†å›¾ï¼Œåºåˆ—ç­‰æˆ‘ä»¬è¦åˆ›å»ºåŒä¹‰è¯çš„å¯¹è±¡çš„åç§°.åˆ›å»ºå…±æœ‰çš„åŒä¹‰è¯ï¼Œä»¥å¦å¤–çš„ç”¨æˆ·ç™»é™†ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨å…¬æœ‰åŒä¹‰è¯<br><span class="hljs-keyword">create</span> public SYNONYM twn <span class="hljs-keyword">for</span> t_owners;<br>åˆ›å»ºç§æœ‰çš„åŒä¹‰è¯<br><span class="hljs-keyword">create</span> SYNONYM twn1 <span class="hljs-keyword">for</span> t_owners;<br></code></pre></td></tr></table></figure></div>

<h2 id="10ã€ç´¢å¼•"><a href="#10ã€ç´¢å¼•" class="headerlink" title="10ã€ç´¢å¼•"></a>10ã€ç´¢å¼•</h2><p>ç´¢å¼•æ˜¯ç”¨äºåŠ é€Ÿæ•°æ®å­˜å–çš„æ•°æ®å¯¹è±¡ã€‚åˆç†çš„ä½¿ç”¨ç´¢å¼•å¯ä»¥å¤§å¤§é™ä½ i&#x2F;o æ¬¡æ•°,ä»è€Œæé«˜æ•°æ®è®¿é—®æ€§èƒ½ã€‚</p>
<p>ç´¢å¼•æ˜¯éœ€è¦å æ®å­˜å‚¨ç©ºé—´çš„ï¼Œä¹Ÿå¯ä»¥ç†è§£ä¸ºæ˜¯ä¸€ç§ç‰¹æ®Šçš„æ•°æ®ã€‚å½¢å¼ç±»ä¼¼äºä¸‹å›¾çš„ä¸€æ£µâ€œæ ‘â€ï¼Œè€Œæ ‘çš„èŠ‚ç‚¹å­˜å‚¨çš„å°±æ˜¯æ¯æ¡è®°å½•çš„ç‰©ç†åœ°å€ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬æåˆ°çš„ä¼ªåˆ—ï¼ˆROWIDï¼‰</p>
<h4 id="æ™®é€šç´¢å¼•"><a href="#æ™®é€šç´¢å¼•" class="headerlink" title="æ™®é€šç´¢å¼•"></a>æ™®é€šç´¢å¼•</h4><div class="highlight-container" data-rel="Sql"><figure class="iseeu highlight sql"><table><tr><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">create</span> index index_name <span class="hljs-keyword">on</span> table_name(column_name);#æ ¹æ®æŸå¼ è¡¨çš„æŸåˆ—æ¥åˆ›å»ºç´¢å¼•ã€‚<br><span class="hljs-keyword">create</span> index t_owners_name <span class="hljs-keyword">on</span> t_owners(name);<br><br>#ç´¢å¼•æ€§èƒ½æµ‹è¯•<br><span class="hljs-keyword">create</span> <span class="hljs-keyword">table</span> T_INDEXTEST (<br>ID NUMBER,<br>NAME VARCHAR2(<span class="hljs-number">30</span>)<br>);<br><span class="hljs-keyword">BEGIN</span><br><span class="hljs-keyword">FOR</span> i <span class="hljs-keyword">in</span> <span class="hljs-number">1.</span><span class="hljs-number">.1000000</span><br>loop<br><span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> T_INDEXTEST <span class="hljs-keyword">VALUES</span>(i,<span class="hljs-string">&#x27;AA&#x27;</span><span class="hljs-operator">||</span>i);<br><span class="hljs-keyword">end</span> loop;<br><span class="hljs-keyword">commit</span>;<br><span class="hljs-keyword">END</span>;<br><br><span class="hljs-keyword">create</span> index t_indextest_name <span class="hljs-keyword">on</span> t_indextest(name);<br><span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> t_indextest <span class="hljs-keyword">where</span> id<span class="hljs-operator">=</span><span class="hljs-number">765432</span>;<br><span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> t_indextest <span class="hljs-keyword">where</span> name<span class="hljs-operator">=</span><span class="hljs-string">&#x27;AA765432&#x27;</span>;<br></code></pre></td></tr></table></figure></div>

<h4 id="å”¯ä¸€ç´¢å¼•"><a href="#å”¯ä¸€ç´¢å¼•" class="headerlink" title="å”¯ä¸€ç´¢å¼•"></a>å”¯ä¸€ç´¢å¼•</h4><p>å¦‚æœæˆ‘ä»¬éœ€è¦åœ¨æŸä¸ªè¡¨æŸä¸ªåˆ—åˆ›å»ºç´¢å¼•ï¼Œè€Œè¿™åˆ—çš„å€¼æ˜¯ä¸ä¼šé‡å¤çš„ã€‚è¿™æ˜¯æˆ‘ä»¬å¯ä»¥åˆ›å»ºå”¯ä¸€ç´¢å¼•ã€‚</p>
<p>è¯­æ³•</p>
<div class="highlight-container" data-rel="Sql"><figure class="iseeu highlight sql"><table><tr><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">create</span> <span class="hljs-keyword">unique</span> index index_name <span class="hljs-keyword">on</span> table_name(column_name);<br></code></pre></td></tr></table></figure></div>

<h4 id="å¤åˆç´¢å¼•"><a href="#å¤åˆç´¢å¼•" class="headerlink" title="å¤åˆç´¢å¼•"></a>å¤åˆç´¢å¼•</h4><div class="highlight-container" data-rel="Sql"><figure class="iseeu highlight sql"><table><tr><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">create</span> index index_name <span class="hljs-keyword">on</span> table_name(column_name,column_name);<br></code></pre></td></tr></table></figure></div>

<h4 id="åå‘é”®ç´¢å¼•"><a href="#åå‘é”®ç´¢å¼•" class="headerlink" title="åå‘é”®ç´¢å¼•"></a>åå‘é”®ç´¢å¼•</h4><p>â€‹	åº”ç”¨åœºæ™¯ï¼šå½“æŸä¸ªå­—æ®µçš„å€¼ä¸ºè¿ç»­å¢é•¿çš„å€¼ï¼Œå¦‚æœæ„å»ºæ ‡å‡†ç´¢å¼•ï¼Œä¼šå½¢æˆæ­ªè„–å­æ ‘ã€‚è¿™æ ·ä¼šå¢åŠ æŸ¥è¯¢çš„å±‚æ•°ï¼Œæ€§èƒ½ä¼šä¸‹é™ã€‚å»ºç«‹åå‘é”®ç´¢å¼•ï¼Œå¯ä»¥ä½¿ç´¢å¼•çš„å€¼å˜å¾—ä¸è§„åˆ™ï¼Œä»è€Œä½¿ç´¢å¼•æ ‘èƒ½å¤Ÿå‡åŒ€åˆ†å¸ƒã€‚</p>
<div class="highlight-container" data-rel="Sql"><figure class="iseeu highlight sql"><table><tr><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">create</span> index ç´¢å¼•åç§° <span class="hljs-keyword">on</span> è¡¨å(åˆ—å) reverse;<br><span class="hljs-keyword">create</span> index t_indextest_name_reverse <span class="hljs-keyword">on</span> t_indextest(id) reverse;<br></code></pre></td></tr></table></figure></div>

<h4 id="ä½å›¾ç´¢å¼•"><a href="#ä½å›¾ç´¢å¼•" class="headerlink" title="ä½å›¾ç´¢å¼•"></a>ä½å›¾ç´¢å¼•</h4><ul>
<li>ä½¿ç”¨åœºæ™¯ï¼šä½å›¾ç´¢å¼•é€‚åˆåˆ›å»ºåœ¨ä½åŸºæ•°åˆ—ä¸Š</li>
<li>ä½å›¾ç´¢å¼•ä¸ç›´æ¥å­˜å‚¨ ROWIDï¼Œè€Œæ˜¯å­˜å‚¨å­—èŠ‚ä½åˆ° ROWID çš„æ˜ å°„</li>
<li>ä¼˜ç‚¹ï¼šå‡å°‘å“åº”æ—¶é—´ï¼ŒèŠ‚çœç©ºé—´å ç”¨</li>
</ul>
<div class="highlight-container" data-rel="Sql"><figure class="iseeu highlight sql"><table><tr><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">create</span> bitmap index index_name table_name(column_name);<br></code></pre></td></tr></table></figure></div>

<h2 id="11ã€PL-SQL"><a href="#11ã€PL-SQL" class="headerlink" title="11ã€PL&#x2F;SQL"></a>11ã€PL&#x2F;SQL</h2><p>PL&#x2F;SQLï¼ˆProcedure Language&#x2F;SQLï¼‰æ˜¯ Oracle å¯¹ sql è¯­è¨€çš„è¿‡ç¨‹åŒ–æ‰©å±•ï¼ŒæŒ‡åœ¨ SQL å‘½ä»¤è¯­è¨€ä¸­å¢åŠ äº†è¿‡ç¨‹å¤„ç†è¯­å¥ï¼ˆå¦‚åˆ†æ”¯ã€å¾ªç¯ç­‰ï¼‰ï¼Œä½¿ SQL è¯­è¨€å…·æœ‰è¿‡ç¨‹å¤„ç†èƒ½åŠ›ã€‚æŠŠ SQL è¯­è¨€çš„æ•°æ®æ“çºµèƒ½åŠ›ä¸è¿‡ç¨‹è¯­è¨€çš„æ•°æ®å¤„ç†èƒ½åŠ›ç»“åˆèµ·æ¥ï¼Œä½¿å¾— PLSQL é¢å‘è¿‡ç¨‹ä½†æ¯”è¿‡ç¨‹è¯­è¨€ç®€å•ã€é«˜æ•ˆã€çµæ´»å’Œå®ç”¨ã€‚</p>
<h4 id="åŸºæœ¬è¯­æ³•ç»“æ„"><a href="#åŸºæœ¬è¯­æ³•ç»“æ„" class="headerlink" title="åŸºæœ¬è¯­æ³•ç»“æ„"></a>åŸºæœ¬è¯­æ³•ç»“æ„</h4><div class="highlight-container" data-rel="Sql"><figure class="iseeu highlight sql"><table><tr><td class="code"><pre><code class="hljs sql">[<span class="hljs-keyword">declare</span>  <span class="hljs-comment">--å£°æ˜å˜é‡]</span><br><span class="hljs-keyword">begin</span><br>é€»è¾‘ä»£ç <br>[exception <span class="hljs-comment">--å¼‚å¸¸å¤„ç†]</span><br><span class="hljs-keyword">end</span>;<br></code></pre></td></tr></table></figure></div>

<h4 id="å˜é‡"><a href="#å˜é‡" class="headerlink" title="å˜é‡"></a>å˜é‡</h4><div class="highlight-container" data-rel="Sql"><figure class="iseeu highlight sql"><table><tr><td class="code"><pre><code class="hljs sql">å£°æ˜å˜é‡çš„è¯­æ³•<br>å˜é‡å ç±»å‹(é•¿åº¦)<br>å˜é‡èµ‹å€¼è¯­æ³•<br>å˜é‡å:<span class="hljs-operator">=</span>å˜é‡å€¼<br><span class="hljs-keyword">declare</span><br>v_price number(<span class="hljs-number">10</span>,<span class="hljs-number">2</span>);<br>v_usenum number;<br>v_usenum2 number(<span class="hljs-number">10</span>,<span class="hljs-number">2</span>);<br>v_money(<span class="hljs-number">10</span>,<span class="hljs-number">2</span>);<br><span class="hljs-keyword">begin</span><br>v_price:<span class="hljs-operator">=</span><span class="hljs-number">2.45</span>;<br>v_usenum:<span class="hljs-operator">=</span><span class="hljs-number">8012</span>;<br>v_usenum2:<span class="hljs-operator">=</span>round(v_usenum<span class="hljs-operator">/</span><span class="hljs-number">1000</span>,<span class="hljs-number">2</span>);<br>v_money:<span class="hljs-operator">=</span>round(v_price<span class="hljs-operator">*</span>v_usenum2,<span class="hljs-number">2</span>);<br>dbms_output.put_line(<span class="hljs-string">&#x27;å•ä»·ï¼š&#x27;</span><span class="hljs-operator">||</span>v_price<span class="hljs-operator">||</span><span class="hljs-string">&#x27;å¨æ•°:&#x27;</span><span class="hljs-operator">||</span>v_usenum2<span class="hljs-operator">||</span><span class="hljs-string">&#x27;é‡‘é¢ï¼š&#x27;</span><span class="hljs-operator">||</span>v_money);<br><span class="hljs-keyword">end</span>;<br></code></pre></td></tr></table></figure></div>

<p>select intoæ–¹å¼èµ‹å€¼</p>
<div class="highlight-container" data-rel="Sql"><figure class="iseeu highlight sql"><table><tr><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> åˆ—å <span class="hljs-keyword">into</span> å˜é‡å <span class="hljs-keyword">from</span> è¡¨å <span class="hljs-keyword">where</span> æ¡ä»¶;<br></code></pre></td></tr></table></figure></div>

<blockquote>
<p>æ³¨æ„ï¼šç»“æœå¿…é¡»æ˜¯ä¸€æ¡è®°å½• ï¼Œæœ‰å¤šæ¡è®°å½•å’Œæ²¡æœ‰è®°å½•éƒ½ä¼šæŠ¥é”™</p>
</blockquote>
<div class="highlight-container" data-rel="Sql"><figure class="iseeu highlight sql"><table><tr><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> usenum,num0,num1 <span class="hljs-keyword">from</span> t_account <span class="hljs-keyword">where</span> <span class="hljs-keyword">year</span><span class="hljs-operator">=</span><span class="hljs-number">2023</span> <span class="hljs-keyword">and</span> id<span class="hljs-operator">=</span><span class="hljs-number">1</span>;<br><br><span class="hljs-keyword">declare</span><br>v_price number(<span class="hljs-number">10</span>,<span class="hljs-number">2</span>);<br>v_usenum number;<br>v_usenum2 number(<span class="hljs-number">10</span>,<span class="hljs-number">2</span>);<br>v_num0 number(<span class="hljs-number">10</span>,<span class="hljs-number">2</span>);<br>v_num1 number(<span class="hljs-number">10</span>,<span class="hljs-number">2</span>);<br>v_money number(<span class="hljs-number">10</span>,<span class="hljs-number">2</span>);<br><span class="hljs-keyword">begin</span><br>v_price:<span class="hljs-operator">=</span><span class="hljs-number">2.45</span>;<br><span class="hljs-keyword">select</span> usenum,num0,num1 <span class="hljs-keyword">into</span> v_usenum,v_num0,v_num1 <span class="hljs-keyword">from</span> t_account <span class="hljs-keyword">where</span> <span class="hljs-keyword">year</span><span class="hljs-operator">=</span><span class="hljs-number">2023</span> <span class="hljs-keyword">and</span> id<span class="hljs-operator">=</span><span class="hljs-number">1</span>;<br>v_usenum2:<span class="hljs-operator">=</span>round(v_usenum<span class="hljs-operator">/</span><span class="hljs-number">1000</span>,<span class="hljs-number">2</span>);<br>v_money:<span class="hljs-operator">=</span>round(v_price<span class="hljs-operator">*</span>v_usenum2,<span class="hljs-number">2</span>);<br>dbms_output.put_line(<span class="hljs-string">&#x27;å•ä»·ï¼š&#x27;</span><span class="hljs-operator">||</span>v_price<span class="hljs-operator">||</span><span class="hljs-string">&#x27;å¨æ•°ï¼š&#x27;</span><span class="hljs-operator">||</span>v_usenum2<span class="hljs-operator">||</span><span class="hljs-string">&#x27;é‡‘é¢ï¼š&#x27;</span><span class="hljs-operator">||</span>v_money<span class="hljs-operator">||</span><span class="hljs-string">&#x27;ä¸Šæœˆå­—æ•°ï¼š&#x27;</span><span class="hljs-operator">||</span>v_num0<span class="hljs-operator">||</span><span class="hljs-string">&#x27;æœ¬æœˆå­—æ•°&#x27;</span><span class="hljs-operator">||</span>v_num1);<br><span class="hljs-keyword">end</span>;<br></code></pre></td></tr></table></figure></div>

<h4 id="å±æ€§ç±»å‹"><a href="#å±æ€§ç±»å‹" class="headerlink" title="å±æ€§ç±»å‹"></a>å±æ€§ç±»å‹</h4><p>%TYPE å¼•ç”¨å‹  ä½œç”¨ï¼šå¼•ç”¨æŸè¡¨æŸåˆ—çš„å­—æ®µç±»å‹</p>
<div class="highlight-container" data-rel="Sql"><figure class="iseeu highlight sql"><table><tr><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">declare</span><br>v_price number(<span class="hljs-number">10</span>,<span class="hljs-number">2</span>);<br>v_usenum t_account.usenum<span class="hljs-operator">%</span>TYPE;<br>v_num0 t_account.num0<span class="hljs-operator">%</span>TYPE;<br>v_num1 t_account.num1<span class="hljs-operator">%</span>TYPE;<br>v_usenum2 number(<span class="hljs-number">10</span>,<span class="hljs-number">2</span>);<br>v_money number(<span class="hljs-number">10</span>,<span class="hljs-number">2</span>);<br><span class="hljs-keyword">begin</span><br>v_price:<span class="hljs-operator">=</span><span class="hljs-number">2.55</span>;<br><span class="hljs-keyword">select</span> usenum,num0,num1 <span class="hljs-keyword">into</span> v_usenum,v_num0,v_num1 <span class="hljs-keyword">from</span> t_account <span class="hljs-keyword">where</span> <span class="hljs-keyword">year</span><span class="hljs-operator">=</span><span class="hljs-number">2023</span> <span class="hljs-keyword">and</span> id<span class="hljs-operator">=</span><span class="hljs-number">3</span>;<br>v_usenum2:<span class="hljs-operator">=</span>round(v_usenum<span class="hljs-operator">/</span><span class="hljs-number">1000</span>,<span class="hljs-number">2</span>);<br>v_money:<span class="hljs-operator">=</span>v_price<span class="hljs-operator">*</span>v_usenum2;<br>dbms_output.put_line(<span class="hljs-string">&#x27;å•ä»·ï¼š&#x27;</span><span class="hljs-operator">||</span>v_price<span class="hljs-operator">||</span><span class="hljs-string">&#x27;å¨æ•°ï¼š&#x27;</span><span class="hljs-operator">||</span>v_usenum2<span class="hljs-operator">||</span><span class="hljs-string">&#x27;é‡‘é¢ï¼š&#x27;</span><span class="hljs-operator">||</span>v_money<span class="hljs-operator">||</span><span class="hljs-string">&#x27;ä¸Šæœˆå­—æ•°ï¼š&#x27;</span><span class="hljs-operator">||</span>v_num0<span class="hljs-operator">||</span><span class="hljs-string">&#x27;æœ¬æœˆå­—æ•°&#x27;</span><span class="hljs-operator">||</span>v_num1);<br><span class="hljs-keyword">end</span>;<br></code></pre></td></tr></table></figure></div>

<p>%ROWTYPE è®°å½•å‹ ï¼Œä¸Šä¾‹ä¸­çš„ä¾‹å­å¯ä»¥ç”¨ä¸‹é¢çš„ä»£ç ä»£æ›¿ä½œç”¨: æ ‡è¯†æŸä¸ªè¡¨çš„è¡Œè®°å½•ç±»å‹</p>
<div class="highlight-container" data-rel="Sql"><figure class="iseeu highlight sql"><table><tr><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">declare</span><br>v_price number(<span class="hljs-number">10</span>,<span class="hljs-number">2</span>);<br>v_account t_account<span class="hljs-operator">%</span>ROWTYPE;<br>v_usenum2 number(<span class="hljs-number">10</span>,<span class="hljs-number">2</span>);<br>v_money number(<span class="hljs-number">10</span>,<span class="hljs-number">2</span>);<br><span class="hljs-keyword">begin</span><br>v_price:<span class="hljs-operator">=</span><span class="hljs-number">3.14</span>;<br><span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">into</span> v_account <span class="hljs-keyword">from</span> t_account <span class="hljs-keyword">where</span> <span class="hljs-keyword">year</span><span class="hljs-operator">=</span><span class="hljs-number">2023</span> <span class="hljs-keyword">and</span> id<span class="hljs-operator">=</span><span class="hljs-number">3</span>;<br>v_usenum2:<span class="hljs-operator">=</span>round(v_account.usenum<span class="hljs-operator">/</span><span class="hljs-number">1000</span>,<span class="hljs-number">2</span>);<br>v_money:<span class="hljs-operator">=</span>v_price<span class="hljs-operator">*</span>v_usenum2;<br>DBMS_OUTPUT.put_line(<span class="hljs-string">&#x27;å•ä»·ï¼š&#x27;</span><span class="hljs-operator">||</span>v_price<span class="hljs-operator">||</span><span class="hljs-string">&#x27;å¨æ•°ï¼š&#x27;</span><span class="hljs-operator">||</span>v_usenum2<span class="hljs-operator">||</span><span class="hljs-string">&#x27;é‡‘é¢ï¼š&#x27;</span><span class="hljs-operator">||</span>v_money<span class="hljs-operator">||</span><span class="hljs-string">&#x27;ä¸Šæœˆå­—æ•°ï¼š&#x27;</span><span class="hljs-operator">||</span>v_account.num0<span class="hljs-operator">||</span><span class="hljs-string">&#x27;æœ¬æœˆå­—æ•°&#x27;</span><span class="hljs-operator">||</span>v_account.num1);<br><span class="hljs-keyword">end</span>;<br></code></pre></td></tr></table></figure></div>

<h4 id="å¼‚å¸¸"><a href="#å¼‚å¸¸" class="headerlink" title="å¼‚å¸¸"></a>å¼‚å¸¸</h4><p>åœ¨è¿è¡Œç¨‹åºæ—¶å‡ºç°çš„é”™è¯¯å«åšå¼‚å¸¸ï¼Œå‘ç”Ÿå¼‚å¸¸åï¼Œè¯­å¥å°†åœæ­¢æ‰§è¡Œï¼Œæ§åˆ¶æƒè½¬ç§»åˆ° PL&#x2F;SQL å—çš„å¼‚å¸¸å¤„ç†éƒ¨åˆ†</p>
<p>å¼‚å¸¸æœ‰ä¸¤ç§ç±»å‹ï¼š</p>
<ul>
<li>é¢„å®šä¹‰å¼‚å¸¸ - å½“ PL&#x2F;SQL ç¨‹åºè¿å Oracle è§„åˆ™æˆ–è¶…è¶Šç³»ç»Ÿé™åˆ¶æ—¶éšå¼å¼•å‘ã€‚</li>
<li>ç”¨æˆ·å®šä¹‰å¼‚å¸¸ - ç”¨æˆ·å¯ä»¥åœ¨ PL&#x2F;SQL å—çš„å£°æ˜éƒ¨åˆ†å®šä¹‰å¼‚å¸¸ï¼Œè‡ªå®šä¹‰çš„å¼‚å¸¸é€šè¿‡ RAISE è¯­å¥æ˜¾å¼å¼•å‘ã€‚</li>
</ul>
<p>oracleé¢„å®šä¹‰çš„å¼‚å¸¸21ä¸ª</p>
<table>
<thead>
<tr>
<th>ç³»ç»Ÿå¼‚å¸¸</th>
<th>äº§ç”ŸåŸå› </th>
</tr>
</thead>
<tbody><tr>
<td>ACCESS_INTO_NULL</td>
<td>æœªå®šä¹‰å¯¹è±¡</td>
</tr>
<tr>
<td>CASE_NOT_FOUND</td>
<td>CASE ä¸­è‹¥æœªåŒ…å«ç›¸åº”çš„ WHEN ï¼Œå¹¶ä¸”æ²¡æœ‰è®¾ç½® ELSE æ—¶</td>
</tr>
<tr>
<td>COLLECTION_IS_NULL</td>
<td>é›†åˆå…ƒç´ æœªåˆå§‹åŒ–</td>
</tr>
<tr>
<td>CURSER_ALREADY_OPEN</td>
<td>æ¸¸æ ‡å·²ç»æ‰“å¼€</td>
</tr>
<tr>
<td>DUP_VAL_ON_INDEX</td>
<td>å”¯ä¸€ç´¢å¼•å¯¹åº”çš„åˆ—ä¸Šæœ‰é‡å¤å€¼</td>
</tr>
<tr>
<td>INVALID_CURSOR</td>
<td>åœ¨ä¸åˆæ³•çš„æ¸¸æ ‡ä¸Šè¿›è¡Œæ“ä½œ</td>
</tr>
<tr>
<td>INVALID_NUMBER</td>
<td>å†…ç½®çš„SQLè¯­å¥ä¸èƒ½å°†å­—ç¬¦è½¬åŒ–ä¸ºæ•°å­—</td>
</tr>
<tr>
<td><em><strong>NO_DATA_FOUND</strong></em></td>
<td><em><strong>ä½¿ç”¨select into æ²¡æœ‰è¡Œè¿”å›è¡Œ</strong></em></td>
</tr>
<tr>
<td><em><strong>TOO_MANY_ROWS</strong></em></td>
<td><em><strong>ä½¿ç”¨select into æœ‰å¤šè¡Œæ•°æ®è¿”å›</strong></em></td>
</tr>
<tr>
<td>ZERO_DIVIDE</td>
<td>é™¤æ•°ä¸º0</td>
</tr>
<tr>
<td>SUBSCRIPT_BEYOND_COUNT</td>
<td>å…ƒç´ ä¸‹æ ‡è¶…è¿‡åµŒå¥—è¡¨æˆ– VARRAY çš„æœ€å¤§å€¼</td>
</tr>
<tr>
<td>SUBSCRIPT_OUTSIDE_LIMIT</td>
<td>ä½¿ç”¨åµŒå¥—è¡¨æˆ– VARRAY æ—¶ï¼Œå°†ä¸‹æ ‡æŒ‡å®šä¸ºè´Ÿæ•°</td>
</tr>
<tr>
<td>VALUE_ERROR</td>
<td>èµ‹å€¼æ—¶ï¼Œå˜é‡é•¿åº¦ä¸è¶³ä»¥å®¹çº³å®é™…æ•°æ®</td>
</tr>
<tr>
<td>LOGIN_DENIED</td>
<td>PL&#x2F;SQL åº”ç”¨ç¨‹åºè¿æ¥åˆ° oracle æ•°æ®åº“æ—¶ï¼Œæä¾›äº†ä¸æ­£ç¡®çš„ç”¨æˆ·åæˆ–å¯†ç </td>
</tr>
<tr>
<td>NOT_LOGGED_ON</td>
<td>PL&#x2F;SQL åº”ç”¨ç¨‹åºåœ¨æ²¡æœ‰è¿æ¥ oralce æ•°æ®åº“çš„æƒ…å†µä¸‹è®¿é—®æ•°æ®</td>
</tr>
<tr>
<td>PROGRAM_ERROR</td>
<td>PL&#x2F;SQL å†…éƒ¨é—®é¢˜ï¼Œå¯èƒ½éœ€è¦é‡è£…æ•°æ®å­—å…¸ï¼† PL&#x2F;SQL ç³»ç»ŸåŒ…</td>
</tr>
<tr>
<td>ROWTYPE_MISMATCH</td>
<td>å®¿ä¸»æ¸¸æ ‡å˜é‡ä¸ PL&#x2F;SQL æ¸¸æ ‡å˜é‡çš„è¿”å›ç±»å‹ä¸å…¼å®¹</td>
</tr>
<tr>
<td>SELF_IS_NULL</td>
<td>ä½¿ç”¨å¯¹è±¡ç±»å‹æ—¶ï¼Œåœ¨ NULLå¯¹è±¡ä¸Šè°ƒç”¨å¯¹è±¡æ–¹æ³•</td>
</tr>
<tr>
<td>STORAGE_ERROR</td>
<td>è¿è¡Œ PL&#x2F;SQL æ—¶ï¼Œè¶…å‡ºå†…å­˜ç©ºé—´</td>
</tr>
<tr>
<td>SYS_INVALID_ID</td>
<td>æ— æ•ˆçš„ ROWID å­—ç¬¦ä¸²</td>
</tr>
<tr>
<td>TIMEOUT_ON_RESOURCE</td>
<td>Oracle åœ¨ç­‰å¾…èµ„æºæ—¶è¶…æ—¶</td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
</tbody></table>
<p>è¯­æ³•ç»“æ„ï¼š</p>
<div class="highlight-container" data-rel="Sql"><figure class="iseeu highlight sql"><table><tr><td class="code"><pre><code class="hljs sql">exception<br><span class="hljs-keyword">when</span> å¼‚å¸¸ç±»å‹ <span class="hljs-keyword">then</span><br>å¼‚å¸¸å¤„ç†é€»è¾‘<br></code></pre></td></tr></table></figure></div>

<div class="highlight-container" data-rel="Sql"><figure class="iseeu highlight sql"><table><tr><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">declare</span><br>v_price number(<span class="hljs-number">10</span>,<span class="hljs-number">2</span>);<br>v_usenum t_account.usenum<span class="hljs-operator">%</span>TYPE;<br>v_usenum2 number(<span class="hljs-number">10</span>,<span class="hljs-number">2</span>);<br>v_money number(<span class="hljs-number">10</span>,<span class="hljs-number">2</span>);<br><span class="hljs-keyword">begin</span><br>v_price:<span class="hljs-operator">=</span><span class="hljs-number">3.55</span>;<br><span class="hljs-keyword">select</span> usenum <span class="hljs-keyword">into</span> v_usenum <span class="hljs-keyword">from</span> t_account <span class="hljs-keyword">where</span> <span class="hljs-keyword">year</span><span class="hljs-operator">=</span><span class="hljs-number">2023</span> <span class="hljs-keyword">and</span> id<span class="hljs-operator">=</span><span class="hljs-number">1</span>;<br>v_usenum2:<span class="hljs-operator">=</span>round(v_usenum<span class="hljs-operator">/</span><span class="hljs-number">1000</span>,<span class="hljs-number">2</span>);<br>v_money:<span class="hljs-operator">=</span>v_price<span class="hljs-operator">*</span>v_usenum2;<br>dbms_output.put_line(<span class="hljs-string">&#x27;å•ä»·ï¼š&#x27;</span><span class="hljs-operator">||</span>v_price<span class="hljs-operator">||</span><span class="hljs-string">&#x27;å¨æ•°:&#x27;</span><span class="hljs-operator">||</span>v_usenum2<span class="hljs-operator">||</span><span class="hljs-string">&#x27;é‡‘é¢ï¼š&#x27;</span><span class="hljs-operator">||</span>v_money);<br>exception<br><span class="hljs-keyword">when</span> NO_DATA_FOUND <span class="hljs-keyword">then</span><br>dbms_output.put_line(<span class="hljs-string">&#x27;æœªæ‰¾åˆ°æ•°æ®ï¼Œè¯·æ ¸å®&#x27;</span>);<br><span class="hljs-keyword">when</span> TOO_MANY_ROWS <span class="hljs-keyword">then</span><br>dbms_output.put_line(<span class="hljs-string">&#x27;æŸ¥è¯¢æ¡ä»¶æœ‰è¯¯ï¼Œè¿”å›å¤šæ¡ä¿¡æ¯ï¼Œè¯·æ ¸å®&#x27;</span>);<br><span class="hljs-keyword">end</span>;<br></code></pre></td></tr></table></figure></div>

<h4 id="æ¡ä»¶åˆ¤æ–­"><a href="#æ¡ä»¶åˆ¤æ–­" class="headerlink" title="æ¡ä»¶åˆ¤æ–­"></a>æ¡ä»¶åˆ¤æ–­</h4><div class="highlight-container" data-rel="Sql"><figure class="iseeu highlight sql"><table><tr><td class="code"><pre><code class="hljs sql">#åŸºæœ¬è¯­æ³•<span class="hljs-number">1</span><br>if æ¡ä»¶ <span class="hljs-keyword">then</span><br> ä¸šåŠ¡é€»è¾‘<br><span class="hljs-keyword">end</span> if;<br><br>#åŸºæœ¬è¯­æ³•<span class="hljs-number">2</span><br>if æ¡ä»¶ <span class="hljs-keyword">then</span><br>ä¸šåŠ¡é€»è¾‘<br><span class="hljs-keyword">else</span><br>ä¸šåŠ¡é€»è¾‘<br><span class="hljs-keyword">end</span> if;<br><br>#åŸºæœ¬è¯­æ³•<span class="hljs-number">3</span><br>if æ¡ä»¶ <span class="hljs-keyword">then</span><br>ä¸šåŠ¡é€»è¾‘<br>elseif æ¡ä»¶ <span class="hljs-keyword">then</span><br>ä¸šåŠ¡é€»è¾‘<br><span class="hljs-keyword">else</span><br>ä¸šåŠ¡é€»è¾‘<br><span class="hljs-keyword">end</span> if;<br></code></pre></td></tr></table></figure></div>

<p>éœ€æ±‚ï¼šè®¾ç½®ä¸‰ä¸ªç­‰çº§çš„æ°´è´¹ 5 å¨ä»¥ä¸‹ 2.45 å…ƒ&#x2F;å¨ 5 å¨åˆ° 10 å¨éƒ¨åˆ† 3.45 å…ƒ&#x2F;å¨ ï¼Œè¶…è¿‡ 10 å¨éƒ¨åˆ† 4.45 ï¼Œæ ¹æ®ä½¿ç”¨æ°´è´¹çš„é‡æ¥è®¡ç®—é˜¶æ¢¯æ°´è´¹ã€‚</p>
<div class="highlight-container" data-rel="Sql"><figure class="iseeu highlight sql"><table><tr><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">declare</span><br>v_price1 number(<span class="hljs-number">10</span>,<span class="hljs-number">2</span>);<br>v_price2 number(<span class="hljs-number">10</span>,<span class="hljs-number">2</span>);<br>v_price3 number(<span class="hljs-number">10</span>,<span class="hljs-number">2</span>);<br>v_account t_account<span class="hljs-operator">%</span>ROWTYPE;<br>v_usenum2 number(<span class="hljs-number">10</span>,<span class="hljs-number">2</span>);<br>v_money number(<span class="hljs-number">10</span>,<span class="hljs-number">2</span>);<br><span class="hljs-keyword">begin</span><br><span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">into</span> v_account <span class="hljs-keyword">from</span> t_account <span class="hljs-keyword">where</span> <span class="hljs-keyword">year</span><span class="hljs-operator">=</span><span class="hljs-number">2023</span> <span class="hljs-keyword">and</span> id<span class="hljs-operator">=</span><span class="hljs-number">3</span>;<br>v_usenum2:<span class="hljs-operator">=</span>round(v_account.usenum<span class="hljs-operator">/</span><span class="hljs-number">1000</span>,<span class="hljs-number">2</span>);<br>v_price1:<span class="hljs-operator">=</span><span class="hljs-number">2.45</span>;<br>v_price2:<span class="hljs-operator">=</span><span class="hljs-number">3.45</span>;<br>v_price3:<span class="hljs-operator">=</span><span class="hljs-number">4.45</span>;<br>if v_usenum2<span class="hljs-operator">&lt;</span><span class="hljs-number">5</span> <span class="hljs-keyword">then</span><br>v_money:<span class="hljs-operator">=</span>v_price1<span class="hljs-operator">*</span>v_usenum2;<br>elsif <span class="hljs-number">5</span><span class="hljs-operator">&lt;</span>v_usenum2 <span class="hljs-keyword">and</span> v_usenum2<span class="hljs-operator">&lt;</span><span class="hljs-number">10</span> <span class="hljs-keyword">then</span><br>v_money:<span class="hljs-operator">=</span>v_price1<span class="hljs-operator">*</span><span class="hljs-number">5</span><span class="hljs-operator">+</span>v_price2<span class="hljs-operator">*</span>(v_usenum2<span class="hljs-number">-5</span>);<br><span class="hljs-keyword">else</span><br>v_money:<span class="hljs-operator">=</span>v_price1<span class="hljs-operator">*</span><span class="hljs-number">5</span><span class="hljs-operator">+</span>v_price2<span class="hljs-operator">*</span><span class="hljs-number">5</span><span class="hljs-operator">+</span>v_price3<span class="hljs-operator">*</span>(v_usenum2<span class="hljs-number">-5</span>);<br><span class="hljs-keyword">end</span> if;<br>dbms_output.put_line(<span class="hljs-string">&#x27;å¨æ•°ï¼š&#x27;</span><span class="hljs-operator">||</span>v_usenum2<span class="hljs-operator">||</span><span class="hljs-string">&#x27;é‡‘é¢ï¼š&#x27;</span><span class="hljs-operator">||</span>v_money<span class="hljs-operator">||</span><span class="hljs-string">&#x27;ä¸Šæœˆå­—æ•°ï¼š&#x27;</span><span class="hljs-operator">||</span>v_account.num0<span class="hljs-operator">||</span><span class="hljs-string">&#x27;æœ¬æœˆå­—æ•°&#x27;</span><span class="hljs-operator">||</span>v_account.num1);<br>exception<br><span class="hljs-keyword">when</span> NO_DATA_FOUND <span class="hljs-keyword">then</span><br>dbms_output.put_line(<span class="hljs-string">&#x27;æœªæ‰¾åˆ°æ•°æ®ï¼Œè¯·æ ¸å®&#x27;</span>);<br><span class="hljs-keyword">when</span> TOO_MANY_ROWS <span class="hljs-keyword">then</span><br>dbms_output.put_line(<span class="hljs-string">&#x27;æœ‰å¤šè¡Œæ•°æ®è¢«æŸ¥è¯¢&#x27;</span>);<br><span class="hljs-keyword">end</span>;<br></code></pre></td></tr></table></figure></div>

<h4 id="å¾ªç¯"><a href="#å¾ªç¯" class="headerlink" title="å¾ªç¯"></a>å¾ªç¯</h4><ol>
<li>æ— æ¡ä»¶å¾ªç¯</li>
</ol>
<div class="highlight-container" data-rel="Sql"><figure class="iseeu highlight sql"><table><tr><td class="code"><pre><code class="hljs sql">loop<br>å¾ªç¯è¯­å¥<br><span class="hljs-keyword">end</span> loop;<br><br>#ä¾‹å­<br><span class="hljs-keyword">declare</span><br>v_num number;<br><span class="hljs-keyword">begin</span><br>v_num:<span class="hljs-operator">=</span><span class="hljs-number">0</span>;<br>loop<br>dbms_output.put_line(<span class="hljs-string">&#x27;v_num=&#x27;</span><span class="hljs-operator">||</span>v_num);<br>v_num:<span class="hljs-operator">=</span>v_num<span class="hljs-operator">+</span><span class="hljs-number">1</span>;<br>if v_num<span class="hljs-operator">=</span><span class="hljs-number">100</span> <span class="hljs-keyword">then</span><br>exit;<br><span class="hljs-keyword">end</span> if;<br><span class="hljs-keyword">end</span> loop;<br><span class="hljs-keyword">end</span>;<br><br>#å¾ªç¯éƒ¨åˆ†å¯ä»¥æ”¹å†™æˆ<br>loop<br>dbms_output.put_line(<span class="hljs-string">&#x27;v_num=&#x27;</span><span class="hljs-operator">||</span>v_num);<br>v_num:<span class="hljs-operator">=</span>v_num<span class="hljs-operator">+</span><span class="hljs-number">1</span>;<br>exit <span class="hljs-keyword">when</span> v_num<span class="hljs-operator">&gt;</span><span class="hljs-number">100</span>;<br><span class="hljs-keyword">end</span> loop;<br></code></pre></td></tr></table></figure></div>

<pre><code> 2.æ¡ä»¶å¾ªç¯
</code></pre>
<div class="highlight-container" data-rel="Sql"><figure class="iseeu highlight sql"><table><tr><td class="code"><pre><code class="hljs sql">while æ¡ä»¶<br>loop<br>å¾ªç¯ä½“<br><span class="hljs-keyword">end</span> loop;<br><br>#èŒƒä¾‹ï¼šè¾“å‡ºä»<span class="hljs-number">1</span>å¼€å§‹çš„<span class="hljs-number">100</span>ä¸ªæ•°<br><span class="hljs-keyword">declare</span><br>v_num number;<br><span class="hljs-keyword">begin</span><br>v_num:<span class="hljs-operator">=</span><span class="hljs-number">0</span>;<br>while v_num<span class="hljs-operator">&lt;</span><span class="hljs-number">101</span><br>loop<br>dbms_output.put_line(<span class="hljs-string">&#x27;v_num=&#x27;</span><span class="hljs-operator">||</span>v_num);<br>v_num:<span class="hljs-operator">=</span>v_num<span class="hljs-operator">+</span><span class="hljs-number">1</span>;<br><span class="hljs-keyword">end</span> loop;<br><span class="hljs-keyword">end</span>;<br></code></pre></td></tr></table></figure></div>

<p>â€‹	3.forå¾ªç¯</p>
<div class="highlight-container" data-rel="Sql"><figure class="iseeu highlight sql"><table><tr><td class="code"><pre><code class="hljs sql">#åŸºæœ¬è¯­æ³•<br><span class="hljs-keyword">for</span> å˜é‡ <span class="hljs-keyword">in</span> èµ·å§‹å€¼..ç»ˆå€¼<br>loop <br>å¾ªç¯ä½“<br><span class="hljs-keyword">end</span> loop;<br><br><br><span class="hljs-keyword">begin</span><br><span class="hljs-keyword">for</span> v_num <span class="hljs-keyword">in</span> <span class="hljs-number">0.</span><span class="hljs-number">.100</span><br>loop<br>dbms_output.put_line(<span class="hljs-string">&#x27;v_num=&#x27;</span><span class="hljs-operator">||</span>v_num);<br><span class="hljs-keyword">end</span> loop;<br><span class="hljs-keyword">end</span>;<br></code></pre></td></tr></table></figure></div>

<h4 id="æ¸¸æ ‡"><a href="#æ¸¸æ ‡" class="headerlink" title="æ¸¸æ ‡"></a>æ¸¸æ ‡</h4><p>æ¸¸æ ‡æ˜¯ç³»ç»Ÿä¸ºç”¨æˆ·å¼€è®¾çš„ä¸€ä¸ªæ•°æ®ç¼“å†²åŒº,å­˜æ”¾ SQL è¯­å¥çš„æ‰§è¡Œç»“æœã€‚æˆ‘ä»¬å¯ä»¥æŠŠæ¸¸æ ‡ç†è§£ä¸º PL&#x2F;SQL ä¸­çš„ç»“æœé›†ã€‚</p>
<p>åœ¨å£°æ˜åŒºå£°æ˜æ¸¸æ ‡ï¼Œè¯­æ³•å¦‚ä¸‹ï¼š</p>
<div class="highlight-container" data-rel="Sql"><figure class="iseeu highlight sql"><table><tr><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">cursor</span> æ¸¸æ ‡åç§° <span class="hljs-keyword">is</span> <span class="hljs-keyword">SQL</span> è¯­å¥;<br></code></pre></td></tr></table></figure></div>

<p>ä½¿ç”¨æ¸¸æ ‡è¯­æ³•</p>
<div class="highlight-container" data-rel="Sql"><figure class="iseeu highlight sql"><table><tr><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">open</span> æ¸¸æ ‡åç§°<br>loop<br>	<span class="hljs-keyword">fetch</span> æ¸¸æ ‡åç§° <span class="hljs-keyword">into</span> å˜é‡;<br>	exit <span class="hljs-keyword">when</span> æ¸¸æ ‡åç§°<span class="hljs-operator">%</span>notfound;<br><span class="hljs-keyword">end</span> loop;<br><span class="hljs-keyword">close</span> æ¸¸æ ‡åç§°;<br><br><span class="hljs-keyword">declare</span><br>curr_jylsh varchar2(<span class="hljs-number">50</span>);<br><span class="hljs-keyword">cursor</span> lyjsh_cursor <span class="hljs-keyword">is</span> <span class="hljs-keyword">select</span> jylsh <span class="hljs-keyword">from</span> jylsh_table;<br><span class="hljs-keyword">begin</span><br><span class="hljs-keyword">open</span> lyjsh_cursor;<br>	loop<br>	<span class="hljs-keyword">fetch</span> lyjsh_cursor <span class="hljs-keyword">into</span> curr_jylsh;<br>	exit <span class="hljs-keyword">when</span> lyjsh_cursor<span class="hljs-operator">%</span>notfound;<br>	<span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> t_sbf_sb_cxjm_sbbc_fail <span class="hljs-keyword">values</span>(curr_jylsh,sysdate,<span class="hljs-string">&#x27;ljh&#x27;</span>,<span class="hljs-string">&#x27;00&#x27;</span>);<br>	<span class="hljs-keyword">commit</span>;<br>	<span class="hljs-keyword">update</span> sbf_sb_cxjmhdxx <span class="hljs-keyword">set</span> sjclzt<span class="hljs-operator">=</span><span class="hljs-string">&#x27;00&#x27;</span>,xgrq<span class="hljs-operator">=</span>sysdate,xgr_dm<span class="hljs-operator">=</span><span class="hljs-string">&#x27;ljh&#x27;</span> <span class="hljs-keyword">where</span> cxjmhd_id <span class="hljs-keyword">in</span> (<span class="hljs-keyword">select</span> lymx_id <span class="hljs-keyword">from</span> sbf_sb_wyxx <span class="hljs-keyword">where</span> jylsh<span class="hljs-operator">=</span>curr_jylsh);<br>	<span class="hljs-keyword">commit</span>;<br>	<span class="hljs-keyword">delete</span> <span class="hljs-keyword">from</span> sbf_sb_cxjmwyxx e <span class="hljs-keyword">where</span> e.jylsh<span class="hljs-operator">=</span>curr_jylsh;<br>	<span class="hljs-keyword">commit</span>;<br>	<span class="hljs-keyword">delete</span> <span class="hljs-keyword">from</span> sbf_sb_cxjm_sbwyxx e <span class="hljs-keyword">where</span> e.jylsh<span class="hljs-operator">=</span>curr_jylsh;<br>	<span class="hljs-keyword">commit</span>;<br>	<span class="hljs-keyword">delete</span> <span class="hljs-keyword">from</span> sbf_sb_wyxx e <span class="hljs-keyword">where</span> e.jylsh<span class="hljs-operator">=</span>curr_jylsh;<br>	<span class="hljs-keyword">commit</span>;<br>	<span class="hljs-keyword">update</span> sbf_sb <br>	<span class="hljs-keyword">end</span> loop;<br><span class="hljs-keyword">close</span> lyjsh_cursor;<br><span class="hljs-keyword">end</span>;<br>	<br></code></pre></td></tr></table></figure></div>

<p>éœ€æ±‚ï¼šæ‰“å°ä¸šä¸»ç±»å‹ä¸º 1 çš„ä»·æ ¼è¡¨</p>
<div class="highlight-container" data-rel="Sql"><figure class="iseeu highlight sql"><table><tr><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">declare</span> <br>v_pricetable t_pricetable<span class="hljs-operator">%</span>ROWTYPE;<br><span class="hljs-keyword">cursor</span> cur_pricetable <span class="hljs-keyword">is</span> <span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> t_pricetable <span class="hljs-keyword">where</span> ownertypeid<span class="hljs-operator">=</span><span class="hljs-number">1001</span>;<br><span class="hljs-keyword">begin</span><br><span class="hljs-keyword">open</span> cur_pricetable;<br>	loop<br>	<span class="hljs-keyword">fetch</span>  cur_pricetable <span class="hljs-keyword">into</span> v_pricetable;<br>	exit <span class="hljs-keyword">when</span> cur_pricetable<span class="hljs-operator">%</span>notfound;<br>	dbms_output.put_line( <span class="hljs-string">&#x27;ä»·æ ¼:&#x27;</span><span class="hljs-operator">||</span>v_pricetable.price <span class="hljs-operator">||</span><span class="hljs-string">&#x27;å¨ä½ï¼š&#x27;</span><span class="hljs-operator">||</span>v_pricetable.minnum<span class="hljs-operator">||</span><span class="hljs-string">&#x27;-&#x27;</span><span class="hljs-operator">||</span>v_pricetable.maxnum );<br>	<span class="hljs-keyword">end</span> loop;<br><span class="hljs-keyword">close</span> cur_pricetable;<br><span class="hljs-keyword">end</span>;<br></code></pre></td></tr></table></figure></div>

<p>å¸¦å‚æ•°çš„æ¸¸æ ‡</p>
<div class="highlight-container" data-rel="Sql"><figure class="iseeu highlight sql"><table><tr><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">declare</span><br>v_pricetable t_pricetable<span class="hljs-operator">%</span>ROWTYPE;<br><span class="hljs-keyword">cursor</span> cur_pricetable(v_ownertypeid number) <span class="hljs-keyword">is</span> <span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> t_pricetable <span class="hljs-keyword">where</span> ownertypeid<span class="hljs-operator">=</span>v_ownertypeid;<br><span class="hljs-keyword">begin</span><br><span class="hljs-keyword">open</span> cur_pricetable(<span class="hljs-number">1001</span>);<br>loop<br>	<span class="hljs-keyword">fetch</span> cur_pricetable <span class="hljs-keyword">into</span> v_pricetable;<br>	exit <span class="hljs-keyword">when</span> cur_pricetable<span class="hljs-operator">%</span>notfound;<br>	dbms_output.put_line(<span class="hljs-string">&#x27;ä»·æ ¼:&#x27;</span><span class="hljs-operator">||</span>v_pricetable.price <span class="hljs-operator">||</span><span class="hljs-string">&#x27;å¨ä½ï¼š&#x27;</span><span class="hljs-operator">||</span>v_pricetable.minnum<span class="hljs-operator">||</span><span class="hljs-string">&#x27;-&#x27;</span><span class="hljs-operator">||</span>v_pricetable.maxnum );<br><span class="hljs-keyword">end</span> loop;	<br><span class="hljs-keyword">close</span> cur_pricetable;<br><span class="hljs-keyword">end</span>;<br></code></pre></td></tr></table></figure></div>

<p>for å¾ªç¯æå–æ¸¸æ ‡å€¼</p>
<div class="highlight-container" data-rel="Sql"><figure class="iseeu highlight sql"><table><tr><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">declare</span><br><span class="hljs-keyword">cursor</span> cur_pricetable(v_ownertypeid number) <span class="hljs-keyword">is</span> <span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> t_pricetable <span class="hljs-keyword">where</span> ownertypeid<span class="hljs-operator">=</span>v_ownertypeid;<br><span class="hljs-keyword">begin</span><br><span class="hljs-keyword">for</span> cur_pricetable <span class="hljs-keyword">in</span> cur_pricetable(<span class="hljs-number">1001</span>)<br>loop<br>dbms_output.put_line(<span class="hljs-string">&#x27;ä»·æ ¼:&#x27;</span><span class="hljs-operator">||</span>cur_pricetable.price <span class="hljs-operator">||</span><span class="hljs-string">&#x27;å¨ä½ï¼š&#x27;</span><span class="hljs-operator">||</span>cur_pricetable.minnum<span class="hljs-operator">||</span><span class="hljs-string">&#x27;-&#x27;</span><span class="hljs-operator">||</span>cur_pricetable.maxnum );<br><span class="hljs-keyword">end</span> loop;<br><span class="hljs-keyword">end</span>;<br></code></pre></td></tr></table></figure></div>

<h2 id="12ã€å­˜å‚¨å‡½æ•°"><a href="#12ã€å­˜å‚¨å‡½æ•°" class="headerlink" title="12ã€å­˜å‚¨å‡½æ•°"></a>12ã€å­˜å‚¨å‡½æ•°</h2><p>å­˜å‚¨å‡½æ•°åˆç§°ä¸ºè‡ªå®šä¹‰å‡½æ•°ã€‚å¯ä»¥æ¥æ”¶ä¸€ä¸ªæˆ–å¤šä¸ªå‚æ•°ï¼Œè¿”å›ä¸€ä¸ªç»“æœã€‚åœ¨å‡½æ•°ä¸­æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ PL&#x2F;SQL è¿›è¡Œé€»è¾‘çš„å¤„ç†ã€‚</p>
<h4 id="å­˜å‚¨å‡½æ•°è¯­æ³•ç»“æ„"><a href="#å­˜å‚¨å‡½æ•°è¯­æ³•ç»“æ„" class="headerlink" title="å­˜å‚¨å‡½æ•°è¯­æ³•ç»“æ„"></a>å­˜å‚¨å‡½æ•°è¯­æ³•ç»“æ„</h4><div class="highlight-container" data-rel="Sql"><figure class="iseeu highlight sql"><table><tr><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">create</span> <span class="hljs-keyword">or</span> replace <span class="hljs-keyword">function</span> å‡½æ•°åç§°(å‚æ•°åç§° å‚æ•°ç±»å‹, å‚æ•°åç§° å‚æ•°ç±»å‹, ...)<br><span class="hljs-keyword">return</span> ç»“æœå˜é‡æ•°æ®ç±»å‹<br><span class="hljs-keyword">is</span> å˜é‡å£°æ˜éƒ¨åˆ†;<br><span class="hljs-keyword">begin</span><br>é€»è¾‘éƒ¨åˆ†;<br><span class="hljs-keyword">RETURN</span> ç»“æœå˜é‡;<br>[exception å¼‚å¸¸å¤„ç†éƒ¨åˆ†]<br><span class="hljs-keyword">end</span>;<br></code></pre></td></tr></table></figure></div>

<h4 id="ç¤ºä¾‹"><a href="#ç¤ºä¾‹" class="headerlink" title="ç¤ºä¾‹"></a>ç¤ºä¾‹</h4><div class="highlight-container" data-rel="Sql"><figure class="iseeu highlight sql"><table><tr><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">create</span>  <span class="hljs-keyword">function</span> pingping(v_name varchar2,v_age number)<br><span class="hljs-keyword">return</span> varchar2<br><span class="hljs-keyword">is</span><br>v_result varchar2(<span class="hljs-number">30</span>);<br><span class="hljs-keyword">begin</span><br>v_result:<span class="hljs-operator">=</span><span class="hljs-string">&#x27;å§“å&#x27;</span><span class="hljs-operator">||</span>v_name<span class="hljs-operator">||</span><span class="hljs-string">&#x27;-å¹´é¾„&#x27;</span><span class="hljs-operator">||</span>v_age;<br>dbms_output.put_line(<span class="hljs-string">&#x27;==&#x27;</span><span class="hljs-operator">||</span>v_result);<br><span class="hljs-keyword">return</span> v_result;<br><span class="hljs-keyword">end</span>;<br>#è°ƒç”¨<br><span class="hljs-keyword">select</span> pingping(<span class="hljs-string">&#x27;suhe&#x27;</span>,<span class="hljs-number">18</span>) <span class="hljs-keyword">from</span> dual;<br></code></pre></td></tr></table></figure></div>

<p>éœ€æ±‚ï¼šæŸ¥è¯¢ä¸šä¸» IDï¼Œä¸šä¸»åç§°ï¼Œä¸šä¸»åœ°å€ï¼Œä¸šä¸»åœ°å€ä½¿ç”¨åˆšæ‰æˆ‘ä»¬åˆ›å»ºçš„å‡½æ•°æ¥å®ç°ã€‚</p>
<div class="highlight-container" data-rel="Sql"><figure class="iseeu highlight sql"><table><tr><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">create</span> <span class="hljs-keyword">function</span> ss(v_id number) <span class="hljs-keyword">return</span> varchar2<br><span class="hljs-keyword">is</span><br>address_name varchar2(<span class="hljs-number">100</span>);<br><span class="hljs-keyword">begin</span><br><span class="hljs-keyword">select</span> name <span class="hljs-keyword">into</span> address_name <span class="hljs-keyword">from</span> t_address <span class="hljs-keyword">where</span> id<span class="hljs-operator">=</span>v_id;<br><span class="hljs-keyword">return</span> address_name;<br><span class="hljs-keyword">end</span>;<br><br><span class="hljs-keyword">select</span> id,name,ss(addressid) <span class="hljs-keyword">from</span> t_owners;<br></code></pre></td></tr></table></figure></div>

<h2 id="13ã€å­˜å‚¨è¿‡ç¨‹"><a href="#13ã€å­˜å‚¨è¿‡ç¨‹" class="headerlink" title="13ã€å­˜å‚¨è¿‡ç¨‹"></a>13ã€å­˜å‚¨è¿‡ç¨‹</h2><h4 id="æ¦‚å¿µ"><a href="#æ¦‚å¿µ" class="headerlink" title="æ¦‚å¿µ"></a>æ¦‚å¿µ</h4><p>å­˜å‚¨è¿‡ç¨‹æ˜¯è¢«å‘½åçš„ PL&#x2F;SQL å—ï¼Œå­˜å‚¨äºæ•°æ®åº“ä¸­ï¼Œæ˜¯æ•°æ®åº“å¯¹è±¡çš„ä¸€ç§ã€‚åº”ç”¨ç¨‹åºå¯ä»¥è°ƒç”¨å­˜å‚¨è¿‡ç¨‹ï¼Œæ‰§è¡Œç›¸åº”çš„é€»è¾‘ã€‚</p>
<p>å­˜å‚¨è¿‡ç¨‹ä¸å­˜å‚¨å‡½æ•°éƒ½å¯ä»¥å°è£…ä¸€å®šçš„ä¸šåŠ¡é€»è¾‘å¹¶è¿”å›ç»“æœï¼Œå­˜åœ¨åŒºåˆ«å¦‚ä¸‹ï¼š<br>1ã€å­˜å‚¨å‡½æ•°ä¸­æœ‰è¿”å›å€¼ï¼Œä¸”å¿…é¡»è¿”å›ï¼›è€Œå­˜å‚¨è¿‡ç¨‹æ²¡æœ‰è¿”å›å€¼ï¼Œå¯ä»¥é€šè¿‡ä¼ å‡ºå‚æ•°è¿”å›å¤šä¸ªå€¼ã€‚<br>2ã€å­˜å‚¨å‡½æ•°å¯ä»¥åœ¨ select è¯­å¥ä¸­ç›´æ¥ä½¿ç”¨ï¼Œè€Œå­˜å‚¨è¿‡ç¨‹ä¸èƒ½ã€‚è¿‡ç¨‹å¤šæ•°æ˜¯è¢«åº”ç”¨ç¨‹åºæ‰€è°ƒç”¨ã€‚<br>3ã€å­˜å‚¨å‡½æ•°ä¸€èˆ¬éƒ½æ˜¯å°è£…ä¸€ä¸ªæŸ¥è¯¢ç»“æœï¼Œè€Œå­˜å‚¨è¿‡ç¨‹ä¸€èˆ¬éƒ½å°è£…ä¸€æ®µäº‹åŠ¡ä»£ç ã€‚</p>
<h4 id="è¯­æ³•"><a href="#è¯­æ³•" class="headerlink" title="è¯­æ³•"></a>è¯­æ³•</h4><div class="highlight-container" data-rel="Sql"><figure class="iseeu highlight sql"><table><tr><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">create</span> <span class="hljs-keyword">or</span> replace <span class="hljs-keyword">procedure</span> å­˜å‚¨è¿‡ç¨‹åå­—(å‚æ•°<span class="hljs-number">1</span> ç±»å‹,å‚æ•°<span class="hljs-number">2</span> ç±»å‹)<br><span class="hljs-keyword">is</span><span class="hljs-operator">|</span><span class="hljs-keyword">as</span><br>å˜é‡ç”³æ˜;<br><span class="hljs-keyword">begin</span><br>é€»è¾‘éƒ¨åˆ†;<br>[exception å¼‚å¸¸å¤„ç†éƒ¨åˆ†]<br><span class="hljs-keyword">end</span>;<br></code></pre></td></tr></table></figure></div>

<blockquote>
<p>å‚æ•°åªæŒ‡å®šç±»å‹ï¼Œä¸æŒ‡å®šé•¿åº¦</p>
</blockquote>
<p>è¿‡ç¨‹å‚æ•°çš„ä¸‰ç§æ¨¡å¼ï¼šIN ä¼ å…¥å‚æ•°ï¼ˆé»˜è®¤ï¼‰,OUT ä¼ å‡ºå‚æ•° ï¼Œä¸»è¦ç”¨äºè¿”å›ç¨‹åºè¿è¡Œç»“æœ,IN OUT ä¼ å…¥ä¼ å‡ºå‚æ•°</p>
<h4 id="æ¡ˆä¾‹"><a href="#æ¡ˆä¾‹" class="headerlink" title="æ¡ˆä¾‹"></a>æ¡ˆä¾‹</h4><p>1ã€åˆ›å»ºä¸å¸¦ä¼ å‡ºå‚æ•°çš„å­˜å‚¨è¿‡ç¨‹ï¼šæ·»åŠ ä¸šä¸»ä¿¡æ¯</p>
<div class="highlight-container" data-rel="Sql"><figure class="iseeu highlight sql"><table><tr><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">create</span> sequence owner_sequence <span class="hljs-keyword">start</span> <span class="hljs-keyword">with</span> <span class="hljs-number">1010</span>;<br><span class="hljs-keyword">create</span> <span class="hljs-keyword">or</span> replace <span class="hljs-keyword">procedure</span> owners_add(v_name varchar2,v_addressid number,v_housenumber varchar2,v_watermeter varchar2,v_type varchar2)<br><span class="hljs-keyword">is</span><br><span class="hljs-keyword">begin</span><br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> t_owners <span class="hljs-keyword">values</span>(owner_sequence.nextval,v_name,v_addressid,v_housenumber,v_watermeter,sysdate,v_type);<br><span class="hljs-keyword">commit</span>;<br><span class="hljs-keyword">end</span>;<br><span class="hljs-keyword">call</span> owners_add(<span class="hljs-string">&#x27;èµµä¼Ÿ&#x27;</span>,<span class="hljs-number">1001</span>,<span class="hljs-string">&#x27;999-3&#x27;</span>,<span class="hljs-string">&#x27;132-7&#x27;</span>,<span class="hljs-number">1002</span>);<br></code></pre></td></tr></table></figure></div>

<p>2ã€åˆ›å»ºå¸¦ä¼ å‡ºå‚æ•°çš„å­˜å‚¨è¿‡ç¨‹</p>
<div class="highlight-container" data-rel="Sql"><figure class="iseeu highlight sql"><table><tr><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">create</span> <span class="hljs-keyword">or</span> replace <span class="hljs-keyword">procedure</span> owners_add_with_out(v_name varchar2,v_addressid number,v_housenumber varchar2,v_watermeter varchar2,v_type varchar2,v_id <span class="hljs-keyword">out</span> number)<br><span class="hljs-keyword">is</span><br><span class="hljs-keyword">begin</span><br><span class="hljs-keyword">select</span> owner_sequence.nextval <span class="hljs-keyword">into</span> v_id <span class="hljs-keyword">from</span> dual;<br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> t_owners <span class="hljs-keyword">values</span>(v_id,v_name,v_addressid,v_housenumber,v_watermeter,sysdate,v_type);<br><span class="hljs-keyword">commit</span>;<br><span class="hljs-keyword">end</span>;<br><br><br><span class="hljs-keyword">declare</span> <br>v_id number;<br><span class="hljs-keyword">begin</span><br>owners_add_with_out(<span class="hljs-string">&#x27;ç‹æ—ºæ—º&#x27;</span>,<span class="hljs-number">1</span>,<span class="hljs-string">&#x27;922-3&#x27;</span>,<span class="hljs-string">&#x27;133-7&#x27;</span>,<span class="hljs-number">1</span>,v_id);<br>DBMS_OUTPUT.put_line(<span class="hljs-string">&#x27;å¢åŠ æˆåŠŸ,ID:&#x27;</span><span class="hljs-operator">||</span>v_id);<br><span class="hljs-keyword">end</span>;<br></code></pre></td></tr></table></figure></div>

<h2 id="14ã€è§¦å‘å™¨"><a href="#14ã€è§¦å‘å™¨" class="headerlink" title="14ã€è§¦å‘å™¨"></a>14ã€è§¦å‘å™¨</h2><h4 id="æ¦‚å¿µ-1"><a href="#æ¦‚å¿µ-1" class="headerlink" title="æ¦‚å¿µ"></a>æ¦‚å¿µ</h4><p>æ•°æ®åº“è§¦å‘å™¨æ˜¯ä¸€ä¸ªä¸è¡¨ç›¸å…³è”çš„ã€å­˜å‚¨çš„ PL&#x2F;SQL ç¨‹åºã€‚æ¯å½“ä¸€ä¸ªç‰¹å®šçš„æ•°æ®æ“ä½œè¯­å¥(Insert,update,delete)åœ¨æŒ‡å®šçš„è¡¨ä¸Šå‘å‡ºæ—¶ï¼ŒOracle è‡ªåŠ¨åœ°æ‰§è¡Œè§¦å‘å™¨ä¸­å®šä¹‰çš„è¯­å¥åºåˆ—ã€‚</p>
<p>è§¦å‘å™¨å¯ç”¨äº</p>
<ul>
<li>æ•°æ®ç¡®è®¤</li>
<li>å®æ–½å¤æ‚çš„å®‰å…¨æ€§æ£€æŸ¥</li>
<li>åšå®¡è®¡ï¼Œè·Ÿè¸ªè¡¨ä¸Šæ‰€åšçš„æ•°æ®æ“ä½œç­‰</li>
<li>æ•°æ®çš„å¤‡ä»½å’ŒåŒæ­¥</li>
</ul>
<p>è§¦å‘å™¨åˆ†ç±»</p>
<ul>
<li>å‰ç½®è§¦å‘å™¨ï¼ˆBEFOREï¼‰</li>
<li>åç½®è§¦å‘å™¨ï¼ˆAFTERï¼‰</li>
</ul>
<h4 id="è§¦å‘å™¨è¯­æ³•"><a href="#è§¦å‘å™¨è¯­æ³•" class="headerlink" title="è§¦å‘å™¨è¯­æ³•"></a>è§¦å‘å™¨è¯­æ³•</h4><div class="highlight-container" data-rel="Sql"><figure class="iseeu highlight sql"><table><tr><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">create</span> <span class="hljs-keyword">or</span> replace <span class="hljs-keyword">trigger</span> è§¦å‘å™¨åå­—<br>before<span class="hljs-operator">|</span>after<br>[<span class="hljs-keyword">delete</span>][[<span class="hljs-keyword">or</span>] <span class="hljs-keyword">insert</span>][[<span class="hljs-keyword">or</span>]<span class="hljs-keyword">update</span> [<span class="hljs-keyword">of</span> åˆ—å]]<br><span class="hljs-keyword">on</span> è¡¨å<br>[<span class="hljs-keyword">for</span> <span class="hljs-keyword">each</span> <span class="hljs-type">row</span> ] [<span class="hljs-keyword">when</span> [æ¡ä»¶]]<br><span class="hljs-keyword">declare</span><br>å˜é‡ç”³æ˜;<br><span class="hljs-keyword">begin</span><br>PLSQLå—<br><span class="hljs-keyword">end</span>;<br></code></pre></td></tr></table></figure></div>

<blockquote>
<p>ä½œç”¨æ˜¯æ ‡æ³¨æ­¤è§¦å‘å™¨æ˜¯è¡Œçº§è§¦å‘å™¨è¿˜æ˜¯è¯­å¥çº§è§¦å‘å™¨</p>
</blockquote>
<p>åœ¨è§¦å‘å™¨ä¸­è§¦å‘è¯­å¥ä¸ä¼ªè®°å½•å˜é‡çš„å€¼</p>
<table>
<thead>
<tr>
<th>è§¦å‘è¯­å¥</th>
<th>:old</th>
<th>:new</th>
</tr>
</thead>
<tbody><tr>
<td>insert</td>
<td>æ‰€æœ‰å­—æ®µéƒ½æ˜¯ç©ºçš„ï¼ˆnullï¼‰</td>
<td>å°†è¦æ’å…¥çš„æ•°æ®</td>
</tr>
<tr>
<td>update</td>
<td>æ›´æ–°ä»¥å‰è¯¥è¡Œçš„å€¼</td>
<td>æ›´æ–°åçš„å€¼</td>
</tr>
<tr>
<td>delete</td>
<td>åˆ é™¤ä»¥å‰è¯¥è¡Œçš„å€¼</td>
<td>æ‰€æœ‰å­—æ®µéƒ½æ˜¯ç©ºçš„ï¼ˆnullï¼‰</td>
</tr>
</tbody></table>
<h4 id="æ¡ˆä¾‹-1"><a href="#æ¡ˆä¾‹-1" class="headerlink" title="æ¡ˆä¾‹"></a>æ¡ˆä¾‹</h4><p>1ã€å‰ç½®è§¦å‘å™¨</p>
<p>éœ€æ±‚ï¼šå½“ç”¨æˆ·è¾“å…¥æœ¬æœˆç´¯è®¡è¡¨æ•°åï¼Œè‡ªåŠ¨è®¡ç®—å‡ºæœ¬æœˆä½¿ç”¨æ•° ã€‚</p>
<div class="highlight-container" data-rel="Sql"><figure class="iseeu highlight sql"><table><tr><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">create</span> <span class="hljs-keyword">or</span> replace <span class="hljs-keyword">trigger</span> tri_account_update<br>before<br><span class="hljs-keyword">update</span> <span class="hljs-keyword">of</span> num1<br><span class="hljs-keyword">on</span> t_account<br><span class="hljs-keyword">for</span> <span class="hljs-keyword">each</span> <span class="hljs-type">row</span><br><span class="hljs-keyword">declare</span><br><span class="hljs-keyword">begin</span><br>:new.usenum:<span class="hljs-operator">=</span>:new.num1<span class="hljs-operator">-</span>:new.num0;<br><span class="hljs-keyword">end</span>;<br><br>#<span class="hljs-keyword">create</span> <span class="hljs-keyword">table</span> t_account(id number,ownerid number,ownertypeid number,areaid number,<span class="hljs-keyword">year</span> <span class="hljs-type">char</span>(<span class="hljs-number">4</span>),<span class="hljs-keyword">month</span> #<span class="hljs-type">char</span>(<span class="hljs-number">2</span>),num0 number,num1 number,usenum number,meteruserid number,meterdate <span class="hljs-type">date</span>,money number(<span class="hljs-number">10</span>,<span class="hljs-number">2</span>),isfee #<span class="hljs-type">char</span>(<span class="hljs-number">1</span>),feedate <span class="hljs-type">date</span>,feeuserid number);<br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> t_account <span class="hljs-keyword">values</span>(<span class="hljs-number">1</span>,<span class="hljs-number">1001</span>,<span class="hljs-number">1001</span>,<span class="hljs-number">1001</span>,<span class="hljs-number">2023</span>,<span class="hljs-number">06</span>,<span class="hljs-number">43543</span>,<span class="hljs-number">46456</span>,<span class="hljs-number">3000</span>,<span class="hljs-number">1001</span>,sysdate,<span class="hljs-number">3232</span>,<span class="hljs-number">0</span>,sysdate,<span class="hljs-number">1001</span>);<br><span class="hljs-keyword">commit</span>;<br><br><span class="hljs-keyword">update</span> t_account <span class="hljs-keyword">set</span> num1<span class="hljs-operator">=</span><span class="hljs-number">100000</span> <span class="hljs-keyword">where</span> id<span class="hljs-operator">=</span><span class="hljs-number">1</span>;<br></code></pre></td></tr></table></figure></div>

<p>2ã€åç½®è§¦å‘å™¨</p>
<p>éœ€æ±‚ï¼šå½“ç”¨æˆ·ä¿®æ”¹äº†ä¸šä¸»ä¿¡æ¯è¡¨çš„æ•°æ®æ—¶è®°å½•ä¿®æ”¹å‰ä¸ä¿®æ”¹åçš„å€¼</p>
<div class="highlight-container" data-rel="Sql"><figure class="iseeu highlight sql"><table><tr><td class="code"><pre><code class="hljs sql"><br><span class="hljs-keyword">create</span> <span class="hljs-keyword">table</span> t_owners_log<br>(<br>updatetime <span class="hljs-type">date</span>,<br>ownerid number,<br>oldname varchar2(<span class="hljs-number">30</span>),<br>newname varchar2(<span class="hljs-number">30</span>)<br>);<br><br><span class="hljs-keyword">create</span> <span class="hljs-keyword">or</span> replace <span class="hljs-keyword">trigger</span> tri_insert_owner<br>after<br><span class="hljs-keyword">update</span> <span class="hljs-keyword">of</span> name<br><span class="hljs-keyword">on</span> t_owners<br><span class="hljs-keyword">for</span> <span class="hljs-keyword">each</span> <span class="hljs-type">row</span><br><span class="hljs-keyword">declare</span><br><span class="hljs-keyword">begin</span><br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> t_owners_log <span class="hljs-keyword">values</span>(sysdate,:old.id,:old.name,:new.name);<br><span class="hljs-keyword">end</span>;<br><br><span class="hljs-keyword">update</span> t_owners <span class="hljs-keyword">set</span> name<span class="hljs-operator">=</span><span class="hljs-string">&#x27;lililili&#x27;</span> <span class="hljs-keyword">where</span> id<span class="hljs-operator">=</span><span class="hljs-number">1004</span>;<br><span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> t_owners_log;<br></code></pre></td></tr></table></figure></div>

]]></content>
      <categories>
        <category>æ•°æ®åº“</category>
      </categories>
      <tags>
        <tag>Oracle</tag>
        <tag>å…³ç³»å‹æ•°æ®åº“</tag>
        <tag>è¡¨</tag>
        <tag>è§†å›¾</tag>
        <tag>è¡¨ç©ºé—´</tag>
        <tag>åºåˆ—</tag>
        <tag>å‡½æ•°</tag>
        <tag>ç´¢å¼•</tag>
        <tag>è§¦å‘å™¨</tag>
        <tag>å­˜å‚¨å‡½æ•°</tag>
        <tag>å­˜å‚¨è¿‡ç¨‹</tag>
      </tags>
  </entry>
</search>
